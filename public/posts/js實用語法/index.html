<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>JavaScript 矩陣, 字串, 數字 實用語法集 | Hsuan's Coding Blog</title>
<meta name=keywords content="JavaScript,Front-end"><meta name=description content='大家在新學習一門程式語言時，想必都會經歷一段不斷刷題練習的時期，在練題及翻閱官方文件的過程中除了更加熟悉該語言，同時也累積了不少好用的語法及函式，藉由這個筆記，希望可以幫助大家統整 JS 中實用的語法與操作，筆記主要著重在矩陣、數字、字串間的使用方法與關係，那些過於複雜或冷門的就不收錄了。
1. String 使用方法 字串轉矩陣 Convert string to array:
在確認是否轉換成功時要使用isArray，不能使用typeof(typeof 回傳結果是number)
// ES6 spread syntax ... [...str] ex: let arr = [..."123"] // ["1","2","3"] // split() str.split() ex: "123".split("") // ["1","2","3"] ex: "123".split() // ["123"] // Array.from() Array.from(str) ex: Array.from("123") // ["1","2","3"] 字串中取出字串 Extract string from string:
//slice， startIndex ~ endIndex，endIndex 不包括在內，回傳新 string，原 string 不變 //str.slice(startIndex, endIndex); ex: "01234".slice(1, 3); // "12" ex: "01234".slice(3, 1000); // "34" ex: "01234".'><meta name=author content="HSIAO, YI-HUSAN"><link rel=canonical href=https://hsuanblog.live/posts/js%E5%AF%A6%E7%94%A8%E8%AA%9E%E6%B3%95/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://hsuanblog.live/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://hsuanblog.live/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://hsuanblog.live/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://hsuanblog.live/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://hsuanblog.live/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://hsuanblog.live/posts/js%E5%AF%A6%E7%94%A8%E8%AA%9E%E6%B3%95/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="JavaScript 矩陣, 字串, 數字 實用語法集"><meta property="og:description" content='大家在新學習一門程式語言時，想必都會經歷一段不斷刷題練習的時期，在練題及翻閱官方文件的過程中除了更加熟悉該語言，同時也累積了不少好用的語法及函式，藉由這個筆記，希望可以幫助大家統整 JS 中實用的語法與操作，筆記主要著重在矩陣、數字、字串間的使用方法與關係，那些過於複雜或冷門的就不收錄了。
1. String 使用方法 字串轉矩陣 Convert string to array:
在確認是否轉換成功時要使用isArray，不能使用typeof(typeof 回傳結果是number)
// ES6 spread syntax ... [...str] ex: let arr = [..."123"] // ["1","2","3"] // split() str.split() ex: "123".split("") // ["1","2","3"] ex: "123".split() // ["123"] // Array.from() Array.from(str) ex: Array.from("123") // ["1","2","3"] 字串中取出字串 Extract string from string:
//slice， startIndex ~ endIndex，endIndex 不包括在內，回傳新 string，原 string 不變 //str.slice(startIndex, endIndex); ex: "01234".slice(1, 3); // "12" ex: "01234".slice(3, 1000); // "34" ex: "01234".'><meta property="og:type" content="article"><meta property="og:url" content="https://hsuanblog.live/posts/js%E5%AF%A6%E7%94%A8%E8%AA%9E%E6%B3%95/"><meta property="og:image" content="https://hsuanblog.live/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-03-22T00:00:00+00:00"><meta property="article:modified_time" content="2023-03-22T00:00:00+00:00"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://hsuanblog.live/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="JavaScript 矩陣, 字串, 數字 實用語法集"><meta name=twitter:description content='大家在新學習一門程式語言時，想必都會經歷一段不斷刷題練習的時期，在練題及翻閱官方文件的過程中除了更加熟悉該語言，同時也累積了不少好用的語法及函式，藉由這個筆記，希望可以幫助大家統整 JS 中實用的語法與操作，筆記主要著重在矩陣、數字、字串間的使用方法與關係，那些過於複雜或冷門的就不收錄了。
1. String 使用方法 字串轉矩陣 Convert string to array:
在確認是否轉換成功時要使用isArray，不能使用typeof(typeof 回傳結果是number)
// ES6 spread syntax ... [...str] ex: let arr = [..."123"] // ["1","2","3"] // split() str.split() ex: "123".split("") // ["1","2","3"] ex: "123".split() // ["123"] // Array.from() Array.from(str) ex: Array.from("123") // ["1","2","3"] 字串中取出字串 Extract string from string:
//slice， startIndex ~ endIndex，endIndex 不包括在內，回傳新 string，原 string 不變 //str.slice(startIndex, endIndex); ex: "01234".slice(1, 3); // "12" ex: "01234".slice(3, 1000); // "34" ex: "01234".'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://hsuanblog.live/posts/"},{"@type":"ListItem","position":2,"name":"JavaScript 矩陣, 字串, 數字 實用語法集","item":"https://hsuanblog.live/posts/js%E5%AF%A6%E7%94%A8%E8%AA%9E%E6%B3%95/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"JavaScript 矩陣, 字串, 數字 實用語法集","name":"JavaScript 矩陣, 字串, 數字 實用語法集","description":"大家在新學習一門程式語言時，想必都會經歷一段不斷刷題練習的時期，在練題及翻閱官方文件的過程中除了更加熟悉該語言，同時也累積了不少好用的語法及函式，藉由這個筆記，希望可以幫助大家統整 JS 中實用的語法與操作，筆記主要著重在矩陣、數字、字串間的使用方法與關係，那些過於複雜或冷門的就不收錄了。\n1. String 使用方法 字串轉矩陣 Convert string to array:\n在確認是否轉換成功時要使用isArray，不能使用typeof(typeof 回傳結果是number)\n// ES6 spread syntax ... [...str] ex: let arr = [...\u0026#34;123\u0026#34;] // [\u0026#34;1\u0026#34;,\u0026#34;2\u0026#34;,\u0026#34;3\u0026#34;] // split() str.split() ex: \u0026#34;123\u0026#34;.split(\u0026#34;\u0026#34;) // [\u0026#34;1\u0026#34;,\u0026#34;2\u0026#34;,\u0026#34;3\u0026#34;] ex: \u0026#34;123\u0026#34;.split() // [\u0026#34;123\u0026#34;] // Array.from() Array.from(str) ex: Array.from(\u0026#34;123\u0026#34;) // [\u0026#34;1\u0026#34;,\u0026#34;2\u0026#34;,\u0026#34;3\u0026#34;] 字串中取出字串 Extract string from string:\n//slice， startIndex ~ endIndex，endIndex 不包括在內，回傳新 string，原 string 不變 //str.slice(startIndex, endIndex); ex: \u0026#34;01234\u0026#34;.slice(1, 3); // \u0026#34;12\u0026#34; ex: \u0026#34;01234\u0026#34;.slice(3, 1000); // \u0026#34;34\u0026#34; ex: \u0026#34;01234\u0026#34;.","keywords":["JavaScript","Front-end"],"articleBody":"大家在新學習一門程式語言時，想必都會經歷一段不斷刷題練習的時期，在練題及翻閱官方文件的過程中除了更加熟悉該語言，同時也累積了不少好用的語法及函式，藉由這個筆記，希望可以幫助大家統整 JS 中實用的語法與操作，筆記主要著重在矩陣、數字、字串間的使用方法與關係，那些過於複雜或冷門的就不收錄了。\n1. String 使用方法 字串轉矩陣 Convert string to array:\n在確認是否轉換成功時要使用isArray，不能使用typeof(typeof 回傳結果是number)\n// ES6 spread syntax ... [...str] ex: let arr = [...\"123\"] // [\"1\",\"2\",\"3\"] // split() str.split() ex: \"123\".split(\"\") // [\"1\",\"2\",\"3\"] ex: \"123\".split() // [\"123\"] // Array.from() Array.from(str) ex: Array.from(\"123\") // [\"1\",\"2\",\"3\"] 字串中取出字串 Extract string from string:\n//slice， startIndex ~ endIndex，endIndex 不包括在內，回傳新 string，原 string 不變 //str.slice(startIndex, endIndex); ex: \"01234\".slice(1, 3); // \"12\" ex: \"01234\".slice(3, 1000); // \"34\" ex: \"01234\".slice(3); // \"34\" ex: \"01234\".slice(-100, 3); // \"12\" // 類似矩陣 index 的取用法 str[index]; ex: \"012\"[1]; // \"1\" // 超出範圍不會壞，在迴圈中的控制中就不太需要擔心超出範圍的問題 ex: \"012\"[-100]; // undefined ex: \"012\"[100]; // undefined 合併字串 Merge strings:\n// backtick ``，較推薦的使用法 `${str1}${str2}`ex: let str1=\"Hi\", str2=\"my love!\" `${str1}, ${str2}` // \"Hi, my love!\" // + operator str1 + str2 ex: \"Hi\" + \", \" + \"my love!\" // \"Hi, my love!\" // Array.concat // 使用法寫在 Convert Array to String 區域 字串替換 String replacement:\n// replace，替換從頭遇到的第一個遇到的字串，回傳新字串，原字串不變 str.replace(pattern, replacement) ex: let str = \"cat dog cat duck\" str.replace(\"cat\", \"KITTY\") // \"KITTY dog cat duck\" str.replace(/cat/, \"KITTY\") // \"KITTY dog cat duck\" // replaceAll，替換全部符合的字串，回傳新字串，原字串不變 str.replaceAll(pattern, replacement) str.replaceAll(\"cat\", \"KITTY\") // \"KITTY dog KITTY duck\" str.replaceAll(/cat/g, \"KITTY\") // \"KITTY dog KITTY duck\" // trim，修剪字串前後的空白 str.trim() ex:\" Hello world! \".trim() // \"Hello world!\" 刪除或改變特定字元 Delete/Change char in string:\njavascirpt 中的字串是不能直接更動的（immutable），因此若要做到刪除、改變特定字元，就只能另外產生一個新的字串。 無效操作示範： \"hello\"[0] = \"H\"\n可以使用 replace、slice 等函式產生新字串，或是將字串轉換成矩陣，經過處理後再接合成新字串，此外，如果需要反覆做出該操作，也可以考慮自己寫成一個新的函式。\nconst replaceAt = function (index, replacement) { return this.slice(0, index) + replacement + this.slice(index + 1); }; 字串迴圈 String loop:\n可以對字串使用一般的 while、for 迴圈，但考量到字串無法直接修改，還是建議先轉換成矩陣後再使用矩陣內建的迴圈方法，操作上較為靈活。\n其他字串操作 Other string manipulations:\n// toUpperCase、toLowerCase 轉大小寫 str.toUpperCase(); str.toLowerCase(); ex: \"Hello!\".toUpperCase(); // \"HELLO!\" ex: \"Hello!\".toLowerCase(); // \"hello!\" // padStart、padEnd 填充字串的長度 str.padStart(targetLength, padString); str.padEnd(targetLength, padString); ex: \"123\".padStart(8, \"-\u003e\"); // \"-\u003e-\u003e-123\" ex: \"Hi\".padEnd(5, \"~\"); // \"Hi~~~\" // repeat 重複字串 str.repeat(count); ex: \"Happy!\".repeat(3); // \"Happy!Happy!Happy!\" // charCodeAt 印出 UTF-16 Code str.charCodeAt(index); ex: \"Apple\".charCodeAt(0); // 65 2. Number 使用方法 數字轉字串 Number to string:\n//toString or String() 閱讀上比較直覺的好寫法 num.toString(); String(num); ex: (3.14).toString(); // \"3.14\" ex: String(3.14); // \"3.14\" // 利用自動轉型，不太推薦此方法，但是在某些特定狀況可以順勢使用 \"\" + num; ex: \"\" + 3.14; // \"3.14\" 每ㄧ位數字轉矩陣 Number to array by digit:\n要先將數字轉換成字串再轉換成矩陣\nArray.from(num.toString(), Number); // 順便轉回數字 Array.from(num.toString()); ex: Array.from((3.14).toString(), Number); // [3, NaN, 1, 4] ex: Array.from((3.14).toString()); // [\"3\", \".\", \"1\", \"4\"] ex: Array.from(3.14); // [] 轉換失敗 數字運算 Number computing:\n//power 次方 num1 ** num2; Math.pow(num1, num2); ex: 3 ** 4; // 3 的 4 次方 = 81 ex: Math.pow(3, 4); // 81 // 進位相關操作 // 四捨五入 Math.round(num); num.toFixed(digits); // 會轉換成字串 // 無條件捨去 Math.floor(num); // 無條件進位 Math.ceil(num); // Math 要針對特定位數的進位操作有局限性，常見操作如下： // 小數點後 2 位 let num = 3.14159; console.log(Math.round(num * 100) / 100); // 3.14 console.log(Math.ceil(num * 100) / 100); // 3.15 console.log(Math.floor(num \\* 100) / 100); // 3.14 // \\* % operator，基礎實用的運算子 ex: (總秒數) =\u003e 小時, 分鐘, 秒; let hours = Math.floor(seconds / 60 / 60); let minutes = Math.floor((secondes / 60) % 60); let rest_seconds = Math.floor(seconds % 60); 轉換成數字是否成功 Conversion to number:\n使用Number是最為簡單且直覺的，但是在確認是否轉換成功時要使用isNaN，不能使用typeof(typeof NaN回傳結果是\"number\")\nNumber([1, 2, 3]); // NaN Number([1]); // 1 Number(\"3.14\"); // 3.14 Number(\"$100\"); // NaN isNaN(Number(\"$100\")); // true 3. Array 使用方法 矩陣迴圈 Array loop:\narray 自帶的迴圈已經可以應付大多數的使用時機，可讀性與方便性也比一般的 for、while 迴圈要來得好，可以說是一定要熟悉的語法。 記住：\n如果在迴圈外面定義了一個變數，然後在迴圈裡面不斷的用它，八成都有更好的寫法\n篇幅有限，矩陣自帶迴圈的用法與原理這裡不多贅述。\narr.forEach((element,index,array)=\u003e{}) arr.map((element,index,array)=\u003e{}) // return new array arr.filter((element,index,array)=\u003e{}) // return new array arr.reduce((accumulator,currentValue,currentIndex,array)=\u003e{},initialValue) // return one value 找尋矩陣中的元素 Find within array:\n// find()，從頭找尋第一個符合條件元素，回傳元素 arr.find((element, index, array) =\u003e {}) ex: [0,50,2,70,1].find((element) =\u003e element \u003e 10) // 50 // findIndex()，從頭找尋第一個符合條件元素，回傳元素的指標 arr.findIndex((element, index, array) =\u003e {}) ex: [0,50,2,70,1].findIndex((element) =\u003e element \u003e 10) // 1 // findLast()，從尾找尋第一個符合條件元素，回傳元素 arr.findLast((element, index, array) =\u003e {}) ex: [0,50,2,70,1].findLast((element) =\u003e element \u003e 10) // 70 // indexOf()，從頭找尋第一個符合條件的元素，回傳指標 arr.indexOf(element, fromIndex) ex: let arr = [\"cat\", \"dog\", \"duck\", \"dog\"] arr.indexOf(\"dog\") // 1 arr.indexOf(\"dog\", 2) // 3 arr.indexOf(\"lion\") // -1 (沒找到) // includes ，找尋矩陣中是否有符合條件的元素，回傳真假值 arr.includes(element, fromIndex) ex: [\"cat\", \"dog\"].includes(\"dog\") // true ex: [\"cat\", \"dog\"].includes(\"lion\") // false 矩陣轉字串 Convert array to string:\n// join，回傳新 string，原 array 不變 // 產生具有某些符號規律字串時的好工具 arr.join(); ex: [\"ab\", \"cd\"].join(); //\"ab,cd\" ex: [\"ab\", \"cd\"].join(\"\"); // \"abcd\" ex: [\"2023\", \"01\", \"01\"].join(\"-\"); // \"2023-01-01\" //toString() or String()，回傳新 string，原 array 不變 arr.toString(); ex: [\"Hi\", \"baby!\"].toString(); //\"Hi,baby!\" ex: [\"Hi\", [\"my\", \"love!\"]].toString(); //\"Hi,my,love!\" ex: String([\"Hi\", [\"my\", \"love!\"]]); //\"Hi,my,love!\" 合併矩陣 Merge arrays:\n// ES6 spread syntax ... 漂亮且直覺的寫法 [...arr1, ...arr2]; ex: [...[0, 1, 2], ...[3, 4, 5]]; //[0,1,2,3,4,5] // concat(concatenate)，回傳新矩陣，原矩陣不變 arr1.concat(arr2); ex: [1, 2].concat([3, 4]); // [1,2,3,4] // push + ... arr1.push(...arr2); ex: [1, 2].push(...[3, 4]); // [1,2,3,4] 矩陣元素的插入與刪除 Insertion and deletion of elements in array:\n除了 ES6 的 spread syntax …，以及常見的 push、pop、Unshift、shift 以外，splice 的應用機會也是很多，使用時要注意 splice 是會改變原矩陣的！。\nsplice(start, deleteCount, item1, item2, itemN) ex: const months = [\"Jan\", \"March\", \"April\", \"June\"]; months.splice(1, 0, \"Feb\"); // Inserts at index 1 console.log(months); // [\"Jan\", \"Feb\", \"March\", \"April\", \"June\"] months.splice(4, 1, \"May\"); // Replaces 1 element at index 4 console.log(months); // [\"Jan\", \"Feb\", \"March\", \"April\", \"May\"] 矩陣元素排列 Sort array:\nsort 原先是依據字串做排列，如果要做出依照數字大小排列的效果，就必須使用 function 作為引數。\nlet arr = [20, 1, 50, 33, 0, 100]; arr.sort(); console.log(arr); // [ 0, 1, 100, 20, 33, 50 ] arr.sort((a, b) =\u003e a - b); console.log(arr); // [ 0, 1, 20, 33, 50, 100 ] arr.sort((a, b) =\u003e b - a); console.log(arr); // [ 100, 50, 33, 20, 1, 0 ] 矩陣複製 Array duplication:\n矩陣的複製牽涉到 JavaScript 數值傳遞的原理，除了常見的 call by value、call by reference，還有特殊的 call by sharing，這會是一項需要另外探討的問題，這裡不做詳細討論，不過至少要知道let newArr = oldArr不是正確的複製方法。\n其他矩陣操作 Other array manipulations:\n// 分解巢狀矩陣 [[], [[]]].flat(depth); ex: [0, 1, [2, [3, 4]]].flat(2); // [0,1,2,3,4] ex: [0, 1, [2, [3, 4]]].flat(Infinity); // [0,1,2,3,4] // isArray 辨別是不是矩陣，使用 typeof 不太準確 Array.isArray(value); ex: Array.isArray([1, 2]); // true ex: Array.isArray(\"1,2\"); // false 4. 操作範例 Demonstration Q: 找出價格大於$200 的商品，並依據價格排列\nlet food = [ {name: \"cake\", price: 100}, {name: \"fruit\", price: 300}, {name: \"water\", price: 5}, ]; let products = [ {name: \"car\", price: 30000}, {name: \"book\", price: 500}, {name: \"pencil\", price: 10}, ]; let highPrice = [...food, ...products].filter((e) =\u003e e.price \u003e 200); highPrice.sort((e1, e2) =\u003e e1.price - e2.price); console.log(highPrice); Output: [ { name: 'fruit', price: 300 }, { name: 'book', price: 500 }, { name: 'car', price: 30000 } ] Q: 每個單字的開頭大寫\nlet str = \"cat dog duck lion rabbit snake\"; let splitStr = str.split(\" \").map((e) =\u003e e[0].toUpperCase() + e.slice(1)); str = splitStr.join(\" \"); console.log(str); // Cat Dog Duck Lion Rabbit Snake Q: 顯示產品項目的種類\nlet products = [\"book\", \"car\", \"car\", \"phone\", \"book\", \"computer\"]; console.log( products.filter((element, index, array) =\u003e array.includes(element, index + 1) === false) ); // [ 'car', 'phone', 'book', 'computer' ] ","wordCount":"1000","inLanguage":"en","image":"https://hsuanblog.live/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2023-03-22T00:00:00Z","dateModified":"2023-03-22T00:00:00Z","author":{"@type":"Person","name":"HSIAO, YI-HUSAN"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://hsuanblog.live/posts/js%E5%AF%A6%E7%94%A8%E8%AA%9E%E6%B3%95/"},"publisher":{"@type":"Organization","name":"Hsuan's Coding Blog","logo":{"@type":"ImageObject","url":"https://hsuanblog.live/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://hsuanblog.live/ accesskey=h title="Hsuan's Coding Blog (Alt + H)"><img src=https://hsuanblog.live/apple-touch-icon.png alt aria-label=logo height=35>Hsuan's Coding Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://hsuanblog.live/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://hsuanblog.live/categories/ title=categories><span>categories</span></a></li><li><a href=https://hsuanblog.live/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://hsuanblog.live/>Home</a>&nbsp;»&nbsp;<a href=https://hsuanblog.live/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">JavaScript 矩陣, 字串, 數字 實用語法集</h1><div class=post-meta><span title='2023-03-22 00:00:00 +0000 UTC'>March 22, 2023</span>&nbsp;·&nbsp;1000 words&nbsp;·&nbsp;HSIAO, YI-HUSAN</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#1-string-使用方法>1. String 使用方法</a></li><li><a href=#2-number-使用方法>2. Number 使用方法</a></li><li><a href=#3-array-使用方法>3. Array 使用方法</a></li><li><a href=#4-操作範例-demonstration>4. 操作範例 Demonstration</a></li></ul></nav></div></details></div><div class=post-content><p>大家在新學習一門程式語言時，想必都會經歷一段不斷刷題練習的時期，在練題及翻閱官方文件的過程中除了更加熟悉該語言，同時也累積了不少好用的語法及函式，藉由這個筆記，希望可以幫助大家統整 JS 中實用的語法與操作，筆記主要著重在矩陣、數字、字串間的使用方法與關係，那些過於複雜或冷門的就不收錄了。</p><h2 id=1-string-使用方法>1. String 使用方法<a hidden class=anchor aria-hidden=true href=#1-string-使用方法>#</a></h2><p><strong>字串轉矩陣 Convert string to array:</strong></p><p>在確認是否轉換成功時要使用<code>isArray</code>，不能使用<code>typeof</code>(<code>typeof </code>回傳結果是<code>number</code>)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ES6 spread syntax ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[...</span><span class=nx>str</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=kd>let</span> <span class=nx>arr</span> <span class=o>=</span> <span class=p>[...</span><span class=s2>&#34;123&#34;</span><span class=p>]</span> <span class=c1>// [&#34;1&#34;,&#34;2&#34;,&#34;3&#34;]
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// split()
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str</span><span class=p>.</span><span class=nx>split</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=s2>&#34;123&#34;</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s2>&#34;&#34;</span><span class=p>)</span> <span class=c1>// [&#34;1&#34;,&#34;2&#34;,&#34;3&#34;]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=s2>&#34;123&#34;</span><span class=p>.</span><span class=nx>split</span><span class=p>()</span> <span class=c1>// [&#34;123&#34;]
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Array.from()
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>Array</span><span class=p>.</span><span class=nx>from</span><span class=p>(</span><span class=nx>str</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=nb>Array</span><span class=p>.</span><span class=nx>from</span><span class=p>(</span><span class=s2>&#34;123&#34;</span><span class=p>)</span> <span class=c1>// [&#34;1&#34;,&#34;2&#34;,&#34;3&#34;]
</span></span></span></code></pre></div><p><strong>字串中取出字串 Extract string from string:</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//slice， startIndex ~ endIndex，endIndex 不包括在內，回傳新 string，原 string 不變
</span></span></span><span class=line><span class=cl><span class=c1>//str.slice(startIndex, endIndex);
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=s2>&#34;01234&#34;</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>);</span> <span class=c1>// &#34;12&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=s2>&#34;01234&#34;</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>1000</span><span class=p>);</span> <span class=c1>// &#34;34&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=s2>&#34;01234&#34;</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=mi>3</span><span class=p>);</span> <span class=c1>// &#34;34&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=s2>&#34;01234&#34;</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=o>-</span><span class=mi>100</span><span class=p>,</span> <span class=mi>3</span><span class=p>);</span> <span class=c1>// &#34;12&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 類似矩陣 index 的取用法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str</span><span class=p>[</span><span class=nx>index</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=s2>&#34;012&#34;</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span> <span class=c1>// &#34;1&#34;
</span></span></span><span class=line><span class=cl><span class=c1>// 超出範圍不會壞，在迴圈中的控制中就不太需要擔心超出範圍的問題
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=s2>&#34;012&#34;</span><span class=p>[</span><span class=o>-</span><span class=mi>100</span><span class=p>];</span> <span class=c1>// undefined
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=s2>&#34;012&#34;</span><span class=p>[</span><span class=mi>100</span><span class=p>];</span> <span class=c1>// undefined
</span></span></span></code></pre></div><hr><p><strong>合併字串 Merge strings:</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// backtick ``，較推薦的使用法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=sb>`</span><span class=si>${</span><span class=nx>str1</span><span class=si>}${</span><span class=nx>str2</span><span class=si>}</span><span class=sb>`</span><span class=nx>ex</span><span class=o>:</span> <span class=kd>let</span> <span class=nx>str1</span><span class=o>=</span><span class=s2>&#34;Hi&#34;</span><span class=p>,</span> <span class=nx>str2</span><span class=o>=</span><span class=s2>&#34;my love!&#34;</span>
</span></span><span class=line><span class=cl>   <span class=sb>`</span><span class=si>${</span><span class=nx>str1</span><span class=si>}</span><span class=sb>, </span><span class=si>${</span><span class=nx>str2</span><span class=si>}</span><span class=sb>`</span> <span class=c1>// &#34;Hi, my love!&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// + operator
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str1</span> <span class=o>+</span> <span class=nx>str2</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=s2>&#34;Hi&#34;</span> <span class=o>+</span> <span class=s2>&#34;, &#34;</span> <span class=o>+</span> <span class=s2>&#34;my love!&#34;</span> <span class=c1>// &#34;Hi, my love!&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// Array.concat
</span></span></span><span class=line><span class=cl><span class=c1>// 使用法寫在 Convert Array to String 區域
</span></span></span></code></pre></div><hr><p><strong>字串替換 String replacement:</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// replace，替換從頭遇到的第一個遇到的字串，回傳新字串，原字串不變
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str</span><span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=nx>pattern</span><span class=p>,</span> <span class=nx>replacement</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>str</span> <span class=o>=</span> <span class=s2>&#34;cat dog cat duck&#34;</span>
</span></span><span class=line><span class=cl><span class=nx>str</span><span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=s2>&#34;cat&#34;</span><span class=p>,</span> <span class=s2>&#34;KITTY&#34;</span><span class=p>)</span> <span class=c1>// &#34;KITTY dog cat duck&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str</span><span class=p>.</span><span class=nx>replace</span><span class=p>(</span><span class=sr>/cat/</span><span class=p>,</span> <span class=s2>&#34;KITTY&#34;</span><span class=p>)</span> <span class=c1>// &#34;KITTY dog cat duck&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// replaceAll，替換全部符合的字串，回傳新字串，原字串不變
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str</span><span class=p>.</span><span class=nx>replaceAll</span><span class=p>(</span><span class=nx>pattern</span><span class=p>,</span> <span class=nx>replacement</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>str</span><span class=p>.</span><span class=nx>replaceAll</span><span class=p>(</span><span class=s2>&#34;cat&#34;</span><span class=p>,</span> <span class=s2>&#34;KITTY&#34;</span><span class=p>)</span> <span class=c1>// &#34;KITTY dog KITTY duck&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str</span><span class=p>.</span><span class=nx>replaceAll</span><span class=p>(</span><span class=sr>/cat/g</span><span class=p>,</span> <span class=s2>&#34;KITTY&#34;</span><span class=p>)</span> <span class=c1>// &#34;KITTY dog KITTY duck&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// trim，修剪字串前後的空白
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str</span><span class=p>.</span><span class=nx>trim</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span><span class=s2>&#34; Hello world! &#34;</span><span class=p>.</span><span class=nx>trim</span><span class=p>()</span> <span class=c1>// &#34;Hello world!&#34;
</span></span></span></code></pre></div><hr><p><strong>刪除或改變特定字元 Delete/Change char in string:</strong></p><p>javascirpt 中的字串是不能直接更動的（immutable），因此若要做到刪除、改變特定字元，就只能另外產生一個新的字串。
無效操作示範： <code>"hello"[0] = "H"</code></p><p>可以使用 replace、slice 等函式產生新字串，或是將字串轉換成矩陣，經過處理後再接合成新字串，此外，如果需要反覆做出該操作，也可以考慮自己寫成一個新的函式。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>replaceAt</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>(</span><span class=nx>index</span><span class=p>,</span> <span class=nx>replacement</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>return</span> <span class=k>this</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nx>index</span><span class=p>)</span> <span class=o>+</span> <span class=nx>replacement</span> <span class=o>+</span> <span class=k>this</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=nx>index</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></div><hr><p><strong>字串迴圈 String loop:</strong></p><p>可以對字串使用一般的 while、for 迴圈，但考量到字串無法直接修改，還是建議先轉換成矩陣後再使用矩陣內建的迴圈方法，操作上較為靈活。</p><hr><p><strong>其他字串操作 Other string manipulations:</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// toUpperCase、toLowerCase 轉大小寫
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str</span><span class=p>.</span><span class=nx>toUpperCase</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>str</span><span class=p>.</span><span class=nx>toLowerCase</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=s2>&#34;Hello!&#34;</span><span class=p>.</span><span class=nx>toUpperCase</span><span class=p>();</span> <span class=c1>// &#34;HELLO!&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=s2>&#34;Hello!&#34;</span><span class=p>.</span><span class=nx>toLowerCase</span><span class=p>();</span> <span class=c1>// &#34;hello!&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// padStart、padEnd 填充字串的長度
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str</span><span class=p>.</span><span class=nx>padStart</span><span class=p>(</span><span class=nx>targetLength</span><span class=p>,</span> <span class=nx>padString</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>str</span><span class=p>.</span><span class=nx>padEnd</span><span class=p>(</span><span class=nx>targetLength</span><span class=p>,</span> <span class=nx>padString</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=s2>&#34;123&#34;</span><span class=p>.</span><span class=nx>padStart</span><span class=p>(</span><span class=mi>8</span><span class=p>,</span> <span class=s2>&#34;-&gt;&#34;</span><span class=p>);</span> <span class=c1>// &#34;-&gt;-&gt;-123&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=s2>&#34;Hi&#34;</span><span class=p>.</span><span class=nx>padEnd</span><span class=p>(</span><span class=mi>5</span><span class=p>,</span> <span class=s2>&#34;~&#34;</span><span class=p>);</span> <span class=c1>// &#34;Hi~~~&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// repeat 重複字串
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str</span><span class=p>.</span><span class=nx>repeat</span><span class=p>(</span><span class=nx>count</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=s2>&#34;Happy!&#34;</span><span class=p>.</span><span class=nx>repeat</span><span class=p>(</span><span class=mi>3</span><span class=p>);</span> <span class=c1>// &#34;Happy!Happy!Happy!&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// charCodeAt 印出 UTF-16 Code
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str</span><span class=p>.</span><span class=nx>charCodeAt</span><span class=p>(</span><span class=nx>index</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=s2>&#34;Apple&#34;</span><span class=p>.</span><span class=nx>charCodeAt</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span> <span class=c1>// 65
</span></span></span></code></pre></div><hr><h2 id=2-number-使用方法>2. Number 使用方法<a hidden class=anchor aria-hidden=true href=#2-number-使用方法>#</a></h2><p><strong>數字轉字串 Number to string:</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//toString or String() 閱讀上比較直覺的好寫法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>num</span><span class=p>.</span><span class=nx>toString</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nb>String</span><span class=p>(</span><span class=nx>num</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=p>(</span><span class=mf>3.14</span><span class=p>).</span><span class=nx>toString</span><span class=p>();</span> <span class=c1>// &#34;3.14&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=nb>String</span><span class=p>(</span><span class=mf>3.14</span><span class=p>);</span> <span class=c1>// &#34;3.14&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 利用自動轉型，不太推薦此方法，但是在某些特定狀況可以順勢使用
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=s2>&#34;&#34;</span> <span class=o>+</span> <span class=nx>num</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=s2>&#34;&#34;</span> <span class=o>+</span> <span class=mf>3.14</span><span class=p>;</span> <span class=c1>// &#34;3.14&#34;
</span></span></span></code></pre></div><hr><p><strong>每ㄧ位數字轉矩陣 Number to array by digit:</strong></p><p>要先將數字轉換成字串再轉換成矩陣</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nb>Array</span><span class=p>.</span><span class=nx>from</span><span class=p>(</span><span class=nx>num</span><span class=p>.</span><span class=nx>toString</span><span class=p>(),</span> <span class=nb>Number</span><span class=p>);</span> <span class=c1>// 順便轉回數字
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>Array</span><span class=p>.</span><span class=nx>from</span><span class=p>(</span><span class=nx>num</span><span class=p>.</span><span class=nx>toString</span><span class=p>());</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=nb>Array</span><span class=p>.</span><span class=nx>from</span><span class=p>((</span><span class=mf>3.14</span><span class=p>).</span><span class=nx>toString</span><span class=p>(),</span> <span class=nb>Number</span><span class=p>);</span> <span class=c1>// [3, NaN, 1, 4]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=nb>Array</span><span class=p>.</span><span class=nx>from</span><span class=p>((</span><span class=mf>3.14</span><span class=p>).</span><span class=nx>toString</span><span class=p>());</span> <span class=c1>// [&#34;3&#34;, &#34;.&#34;, &#34;1&#34;, &#34;4&#34;]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=nb>Array</span><span class=p>.</span><span class=nx>from</span><span class=p>(</span><span class=mf>3.14</span><span class=p>);</span> <span class=c1>// [] 轉換失敗
</span></span></span></code></pre></div><hr><p><strong>數字運算 Number computing:</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=c1>//power 次方
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>num1</span> <span class=o>**</span> <span class=nx>num2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nb>Math</span><span class=p>.</span><span class=nx>pow</span><span class=p>(</span><span class=nx>num1</span><span class=p>,</span> <span class=nx>num2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=mi>3</span> <span class=o>**</span> <span class=mi>4</span><span class=p>;</span> <span class=c1>// 3 的 4 次方 = 81
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>pow</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>);</span> <span class=c1>// 81
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 進位相關操作
</span></span></span><span class=line><span class=cl><span class=c1>// 四捨五入
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>Math</span><span class=p>.</span><span class=nx>round</span><span class=p>(</span><span class=nx>num</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>num</span><span class=p>.</span><span class=nx>toFixed</span><span class=p>(</span><span class=nx>digits</span><span class=p>);</span> <span class=c1>// 會轉換成字串
</span></span></span><span class=line><span class=cl><span class=c1>// 無條件捨去
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nx>num</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// 無條件進位
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>Math</span><span class=p>.</span><span class=nx>ceil</span><span class=p>(</span><span class=nx>num</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Math 要針對特定位數的進位操作有局限性，常見操作如下：
</span></span></span><span class=line><span class=cl><span class=c1>// 小數點後 2 位
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>num</span> <span class=o>=</span> <span class=mf>3.14159</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>round</span><span class=p>(</span><span class=nx>num</span> <span class=o>*</span> <span class=mi>100</span><span class=p>)</span> <span class=o>/</span> <span class=mi>100</span><span class=p>);</span> <span class=c1>// 3.14
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>ceil</span><span class=p>(</span><span class=nx>num</span> <span class=o>*</span> <span class=mi>100</span><span class=p>)</span> <span class=o>/</span> <span class=mi>100</span><span class=p>);</span> <span class=c1>// 3.15
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nx>num</span> <span class=err>\</span><span class=o>*</span> <span class=mi>100</span><span class=p>)</span> <span class=o>/</span> <span class=mi>100</span><span class=p>);</span> <span class=c1>// 3.14
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// \* % operator，基礎實用的運算子
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=p>(</span><span class=nx>總秒數</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>小時</span><span class=p>,</span> <span class=nx>分鐘</span><span class=p>,</span> <span class=nx>秒</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>hours</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nx>seconds</span> <span class=o>/</span> <span class=mi>60</span> <span class=o>/</span> <span class=mi>60</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>minutes</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>((</span><span class=nx>secondes</span> <span class=o>/</span> <span class=mi>60</span><span class=p>)</span> <span class=o>%</span> <span class=mi>60</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>rest_seconds</span> <span class=o>=</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>floor</span><span class=p>(</span><span class=nx>seconds</span> <span class=o>%</span> <span class=mi>60</span><span class=p>);</span>
</span></span></code></pre></div><hr><p><strong>轉換成數字是否成功 Conversion to number:</strong></p><p>使用<code>Number</code>是最為簡單且直覺的，但是在確認是否轉換成功時要使用<code>isNaN</code>，不能使用<code>typeof</code>(<code>typeof NaN</code>回傳結果是<code>"number"</code>)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nb>Number</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>]);</span> <span class=c1>// NaN
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>Number</span><span class=p>([</span><span class=mi>1</span><span class=p>]);</span> <span class=c1>// 1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>Number</span><span class=p>(</span><span class=s2>&#34;3.14&#34;</span><span class=p>);</span> <span class=c1>// 3.14
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>Number</span><span class=p>(</span><span class=s2>&#34;$100&#34;</span><span class=p>);</span> <span class=c1>// NaN
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nb>isNaN</span><span class=p>(</span><span class=nb>Number</span><span class=p>(</span><span class=s2>&#34;$100&#34;</span><span class=p>));</span> <span class=c1>// true
</span></span></span></code></pre></div><hr><h2 id=3-array-使用方法>3. Array 使用方法<a hidden class=anchor aria-hidden=true href=#3-array-使用方法>#</a></h2><p><strong>矩陣迴圈 Array loop:</strong></p><p>array 自帶的迴圈已經可以應付大多數的使用時機，可讀性與方便性也比一般的 for、while 迴圈要來得好，可以說是一定要熟悉的語法。
記住：</p><blockquote><p>如果在迴圈外面定義了一個變數，然後在迴圈裡面不斷的用它，八成都有更好的寫法</p></blockquote><p>篇幅有限，矩陣自帶迴圈的用法與原理這裡不多贅述。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>arr</span><span class=p>.</span><span class=nx>forEach</span><span class=p>((</span><span class=nx>element</span><span class=p>,</span><span class=nx>index</span><span class=p>,</span><span class=nx>array</span><span class=p>)=&gt;{})</span>
</span></span><span class=line><span class=cl><span class=nx>arr</span><span class=p>.</span><span class=nx>map</span><span class=p>((</span><span class=nx>element</span><span class=p>,</span><span class=nx>index</span><span class=p>,</span><span class=nx>array</span><span class=p>)=&gt;{})</span> <span class=c1>// return new array
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>element</span><span class=p>,</span><span class=nx>index</span><span class=p>,</span><span class=nx>array</span><span class=p>)=&gt;{})</span> <span class=c1>// return new array
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr</span><span class=p>.</span><span class=nx>reduce</span><span class=p>((</span><span class=nx>accumulator</span><span class=p>,</span><span class=nx>currentValue</span><span class=p>,</span><span class=nx>currentIndex</span><span class=p>,</span><span class=nx>array</span><span class=p>)=&gt;{},</span><span class=nx>initialValue</span><span class=p>)</span> <span class=c1>// return one value
</span></span></span></code></pre></div><hr><p><strong>找尋矩陣中的元素 Find within array:</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// find()，從頭找尋第一個符合條件元素，回傳元素
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr</span><span class=p>.</span><span class=nx>find</span><span class=p>((</span><span class=nx>element</span><span class=p>,</span> <span class=nx>index</span><span class=p>,</span> <span class=nx>array</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{})</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=mi>50</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>70</span><span class=p>,</span><span class=mi>1</span><span class=p>].</span><span class=nx>find</span><span class=p>((</span><span class=nx>element</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>element</span> <span class=o>&gt;</span> <span class=mi>10</span><span class=p>)</span> <span class=c1>// 50
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// findIndex()，從頭找尋第一個符合條件元素，回傳元素的指標
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr</span><span class=p>.</span><span class=nx>findIndex</span><span class=p>((</span><span class=nx>element</span><span class=p>,</span> <span class=nx>index</span><span class=p>,</span> <span class=nx>array</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{})</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=mi>50</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>70</span><span class=p>,</span><span class=mi>1</span><span class=p>].</span><span class=nx>findIndex</span><span class=p>((</span><span class=nx>element</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>element</span> <span class=o>&gt;</span> <span class=mi>10</span><span class=p>)</span> <span class=c1>// 1
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// findLast()，從尾找尋第一個符合條件元素，回傳元素
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr</span><span class=p>.</span><span class=nx>findLast</span><span class=p>((</span><span class=nx>element</span><span class=p>,</span> <span class=nx>index</span><span class=p>,</span> <span class=nx>array</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=p>{})</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span><span class=mi>50</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>70</span><span class=p>,</span><span class=mi>1</span><span class=p>].</span><span class=nx>findLast</span><span class=p>((</span><span class=nx>element</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>element</span> <span class=o>&gt;</span> <span class=mi>10</span><span class=p>)</span> <span class=c1>// 70
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// indexOf()，從頭找尋第一個符合條件的元素，回傳指標
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr</span><span class=p>.</span><span class=nx>indexOf</span><span class=p>(</span><span class=nx>element</span><span class=p>,</span> <span class=nx>fromIndex</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>arr</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;cat&#34;</span><span class=p>,</span> <span class=s2>&#34;dog&#34;</span><span class=p>,</span> <span class=s2>&#34;duck&#34;</span><span class=p>,</span> <span class=s2>&#34;dog&#34;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=nx>arr</span><span class=p>.</span><span class=nx>indexOf</span><span class=p>(</span><span class=s2>&#34;dog&#34;</span><span class=p>)</span> <span class=c1>// 1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr</span><span class=p>.</span><span class=nx>indexOf</span><span class=p>(</span><span class=s2>&#34;dog&#34;</span><span class=p>,</span> <span class=mi>2</span><span class=p>)</span> <span class=c1>// 3
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr</span><span class=p>.</span><span class=nx>indexOf</span><span class=p>(</span><span class=s2>&#34;lion&#34;</span><span class=p>)</span> <span class=c1>// -1 (沒找到)
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// includes ，找尋矩陣中是否有符合條件的元素，回傳真假值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr</span><span class=p>.</span><span class=nx>includes</span><span class=p>(</span><span class=nx>element</span><span class=p>,</span> <span class=nx>fromIndex</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;cat&#34;</span><span class=p>,</span> <span class=s2>&#34;dog&#34;</span><span class=p>].</span><span class=nx>includes</span><span class=p>(</span><span class=s2>&#34;dog&#34;</span><span class=p>)</span> <span class=c1>// true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;cat&#34;</span><span class=p>,</span> <span class=s2>&#34;dog&#34;</span><span class=p>].</span><span class=nx>includes</span><span class=p>(</span><span class=s2>&#34;lion&#34;</span><span class=p>)</span> <span class=c1>// false
</span></span></span></code></pre></div><hr><p><strong>矩陣轉字串 Convert array to string:</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// join，回傳新 string，原 array 不變
</span></span></span><span class=line><span class=cl><span class=c1>// 產生具有某些符號規律字串時的好工具
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr</span><span class=p>.</span><span class=nx>join</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;ab&#34;</span><span class=p>,</span> <span class=s2>&#34;cd&#34;</span><span class=p>].</span><span class=nx>join</span><span class=p>();</span> <span class=c1>//&#34;ab,cd&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;ab&#34;</span><span class=p>,</span> <span class=s2>&#34;cd&#34;</span><span class=p>].</span><span class=nx>join</span><span class=p>(</span><span class=s2>&#34;&#34;</span><span class=p>);</span> <span class=c1>// &#34;abcd&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;2023&#34;</span><span class=p>,</span> <span class=s2>&#34;01&#34;</span><span class=p>,</span> <span class=s2>&#34;01&#34;</span><span class=p>].</span><span class=nx>join</span><span class=p>(</span><span class=s2>&#34;-&#34;</span><span class=p>);</span> <span class=c1>// &#34;2023-01-01&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>//toString() or String()，回傳新 string，原 array 不變
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr</span><span class=p>.</span><span class=nx>toString</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;Hi&#34;</span><span class=p>,</span> <span class=s2>&#34;baby!&#34;</span><span class=p>].</span><span class=nx>toString</span><span class=p>();</span> <span class=c1>//&#34;Hi,baby!&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=p>[</span><span class=s2>&#34;Hi&#34;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&#34;my&#34;</span><span class=p>,</span> <span class=s2>&#34;love!&#34;</span><span class=p>]].</span><span class=nx>toString</span><span class=p>();</span> <span class=c1>//&#34;Hi,my,love!&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=nb>String</span><span class=p>([</span><span class=s2>&#34;Hi&#34;</span><span class=p>,</span> <span class=p>[</span><span class=s2>&#34;my&#34;</span><span class=p>,</span> <span class=s2>&#34;love!&#34;</span><span class=p>]]);</span> <span class=c1>//&#34;Hi,my,love!&#34;
</span></span></span></code></pre></div><hr><p><strong>合併矩陣 Merge arrays:</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// ES6 spread syntax ... 漂亮且直覺的寫法
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[...</span><span class=nx>arr1</span><span class=p>,</span> <span class=p>...</span><span class=nx>arr2</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=p>[...[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>],</span> <span class=p>...[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=mi>5</span><span class=p>]];</span> <span class=c1>//[0,1,2,3,4,5]
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// concat(concatenate)，回傳新矩陣，原矩陣不變
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr1</span><span class=p>.</span><span class=nx>concat</span><span class=p>(</span><span class=nx>arr2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>].</span><span class=nx>concat</span><span class=p>([</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]);</span> <span class=c1>// [1,2,3,4]
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// push + ...
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr1</span><span class=p>.</span><span class=nx>push</span><span class=p>(...</span><span class=nx>arr2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=p>[</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>].</span><span class=nx>push</span><span class=p>(...[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]);</span> <span class=c1>// [1,2,3,4]
</span></span></span></code></pre></div><hr><p><strong>矩陣元素的插入與刪除 Insertion and deletion of elements in array:</strong></p><p>除了 ES6 的 spread syntax &mldr;，以及常見的 push、pop、Unshift、shift 以外，splice 的應用機會也是很多，使用時要注意 splice 是會改變原矩陣的！。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>splice</span><span class=p>(</span><span class=nx>start</span><span class=p>,</span> <span class=nx>deleteCount</span><span class=p>,</span> <span class=nx>item1</span><span class=p>,</span> <span class=nx>item2</span><span class=p>,</span> <span class=nx>itemN</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span>
</span></span><span class=line><span class=cl><span class=kr>const</span> <span class=nx>months</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;Jan&#34;</span><span class=p>,</span> <span class=s2>&#34;March&#34;</span><span class=p>,</span> <span class=s2>&#34;April&#34;</span><span class=p>,</span> <span class=s2>&#34;June&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>months</span><span class=p>.</span><span class=nx>splice</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=s2>&#34;Feb&#34;</span><span class=p>);</span> <span class=c1>// Inserts at index 1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>months</span><span class=p>);</span> <span class=c1>// [&#34;Jan&#34;, &#34;Feb&#34;, &#34;March&#34;, &#34;April&#34;, &#34;June&#34;]
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>months</span><span class=p>.</span><span class=nx>splice</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=s2>&#34;May&#34;</span><span class=p>);</span> <span class=c1>// Replaces 1 element at index 4
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>months</span><span class=p>);</span> <span class=c1>// [&#34;Jan&#34;, &#34;Feb&#34;, &#34;March&#34;, &#34;April&#34;, &#34;May&#34;]
</span></span></span></code></pre></div><hr><p><strong>矩陣元素排列 Sort array:</strong></p><p>sort 原先是依據字串做排列，如果要做出依照數字大小排列的效果，就必須使用 function 作為引數。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>arr</span> <span class=o>=</span> <span class=p>[</span><span class=mi>20</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>50</span><span class=p>,</span> <span class=mi>33</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>100</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=nx>arr</span><span class=p>.</span><span class=nx>sort</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>arr</span><span class=p>);</span> <span class=c1>// [ 0, 1, 100, 20, 33, 50 ]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr</span><span class=p>.</span><span class=nx>sort</span><span class=p>((</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>a</span> <span class=o>-</span> <span class=nx>b</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>arr</span><span class=p>);</span> <span class=c1>// [ 0, 1, 20, 33, 50, 100 ]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr</span><span class=p>.</span><span class=nx>sort</span><span class=p>((</span><span class=nx>a</span><span class=p>,</span> <span class=nx>b</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>b</span> <span class=o>-</span> <span class=nx>a</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>arr</span><span class=p>);</span> <span class=c1>// [ 100, 50, 33, 20, 1, 0 ]
</span></span></span></code></pre></div><hr><p><strong>矩陣複製 Array duplication:</strong></p><p>矩陣的複製牽涉到 JavaScript 數值傳遞的原理，除了常見的 call by value、call by reference，還有特殊的 call by sharing，這會是一項需要另外探討的問題，這裡不做詳細討論，不過至少要知道<code>let newArr = oldArr</code>不是正確的複製方法。</p><hr><p><strong>其他矩陣操作 Other array manipulations:</strong></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 分解巢狀矩陣
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>[[],</span> <span class=p>[[]]].</span><span class=nx>flat</span><span class=p>(</span><span class=nx>depth</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]]].</span><span class=nx>flat</span><span class=p>(</span><span class=mi>2</span><span class=p>);</span> <span class=c1>// [0,1,2,3,4]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=p>[</span><span class=mi>0</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=p>[</span><span class=mi>2</span><span class=p>,</span> <span class=p>[</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>]]].</span><span class=nx>flat</span><span class=p>(</span><span class=kc>Infinity</span><span class=p>);</span> <span class=c1>// [0,1,2,3,4]
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// isArray 辨別是不是矩陣，使用 typeof 不太準確
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nb>Array</span><span class=p>.</span><span class=nx>isArray</span><span class=p>(</span><span class=nx>value</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>ex</span><span class=o>:</span> <span class=nb>Array</span><span class=p>.</span><span class=nx>isArray</span><span class=p>([</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>]);</span> <span class=c1>// true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ex</span><span class=o>:</span> <span class=nb>Array</span><span class=p>.</span><span class=nx>isArray</span><span class=p>(</span><span class=s2>&#34;1,2&#34;</span><span class=p>);</span> <span class=c1>// false
</span></span></span></code></pre></div><hr><h2 id=4-操作範例-demonstration>4. 操作範例 Demonstration<a hidden class=anchor aria-hidden=true href=#4-操作範例-demonstration>#</a></h2><p>Q: 找出價格大於$200 的商品，並依據價格排列</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>food</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span><span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;cake&#34;</span><span class=p>,</span> <span class=nx>price</span><span class=o>:</span> <span class=mi>100</span><span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span><span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;fruit&#34;</span><span class=p>,</span> <span class=nx>price</span><span class=o>:</span> <span class=mi>300</span><span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span><span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;water&#34;</span><span class=p>,</span> <span class=nx>price</span><span class=o>:</span> <span class=mi>5</span><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>products</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span><span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;car&#34;</span><span class=p>,</span> <span class=nx>price</span><span class=o>:</span> <span class=mi>30000</span><span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span><span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;book&#34;</span><span class=p>,</span> <span class=nx>price</span><span class=o>:</span> <span class=mi>500</span><span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span><span class=nx>name</span><span class=o>:</span> <span class=s2>&#34;pencil&#34;</span><span class=p>,</span> <span class=nx>price</span><span class=o>:</span> <span class=mi>10</span><span class=p>},</span>
</span></span><span class=line><span class=cl><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>highPrice</span> <span class=o>=</span> <span class=p>[...</span><span class=nx>food</span><span class=p>,</span> <span class=p>...</span><span class=nx>products</span><span class=p>].</span><span class=nx>filter</span><span class=p>((</span><span class=nx>e</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>e</span><span class=p>.</span><span class=nx>price</span> <span class=o>&gt;</span> <span class=mi>200</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>highPrice</span><span class=p>.</span><span class=nx>sort</span><span class=p>((</span><span class=nx>e1</span><span class=p>,</span> <span class=nx>e2</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>e1</span><span class=p>.</span><span class=nx>price</span> <span class=o>-</span> <span class=nx>e2</span><span class=p>.</span><span class=nx>price</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>highPrice</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>Output</span><span class=o>:</span>
</span></span><span class=line><span class=cl><span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;fruit&#39;</span><span class=p>,</span> <span class=nx>price</span><span class=o>:</span> <span class=mi>300</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;book&#39;</span><span class=p>,</span> <span class=nx>price</span><span class=o>:</span> <span class=mi>500</span> <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span> <span class=nx>name</span><span class=o>:</span> <span class=s1>&#39;car&#39;</span><span class=p>,</span> <span class=nx>price</span><span class=o>:</span> <span class=mi>30000</span> <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>]</span>
</span></span></code></pre></div><hr><p>Q: 每個單字的開頭大寫</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>str</span> <span class=o>=</span> <span class=s2>&#34;cat dog duck lion rabbit snake&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>splitStr</span> <span class=o>=</span> <span class=nx>str</span><span class=p>.</span><span class=nx>split</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=p>).</span><span class=nx>map</span><span class=p>((</span><span class=nx>e</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>e</span><span class=p>[</span><span class=mi>0</span><span class=p>].</span><span class=nx>toUpperCase</span><span class=p>()</span> <span class=o>+</span> <span class=nx>e</span><span class=p>.</span><span class=nx>slice</span><span class=p>(</span><span class=mi>1</span><span class=p>));</span>
</span></span><span class=line><span class=cl><span class=nx>str</span> <span class=o>=</span> <span class=nx>splitStr</span><span class=p>.</span><span class=nx>join</span><span class=p>(</span><span class=s2>&#34; &#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>str</span><span class=p>);</span> <span class=c1>// Cat Dog Duck Lion Rabbit Snake
</span></span></span></code></pre></div><hr><p>Q: 顯示產品項目的種類</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>products</span> <span class=o>=</span> <span class=p>[</span><span class=s2>&#34;book&#34;</span><span class=p>,</span> <span class=s2>&#34;car&#34;</span><span class=p>,</span> <span class=s2>&#34;car&#34;</span><span class=p>,</span> <span class=s2>&#34;phone&#34;</span><span class=p>,</span> <span class=s2>&#34;book&#34;</span><span class=p>,</span> <span class=s2>&#34;computer&#34;</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span>
</span></span><span class=line><span class=cl><span class=nx>products</span><span class=p>.</span><span class=nx>filter</span><span class=p>((</span><span class=nx>element</span><span class=p>,</span> <span class=nx>index</span><span class=p>,</span> <span class=nx>array</span><span class=p>)</span> <span class=p>=&gt;</span> <span class=nx>array</span><span class=p>.</span><span class=nx>includes</span><span class=p>(</span><span class=nx>element</span><span class=p>,</span> <span class=nx>index</span> <span class=o>+</span> <span class=mi>1</span><span class=p>)</span> <span class=o>===</span> <span class=kc>false</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// [ &#39;car&#39;, &#39;phone&#39;, &#39;book&#39;, &#39;computer&#39; ]
</span></span></span></code></pre></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://hsuanblog.live/tags/javascript/>JavaScript</a></li><li><a href=https://hsuanblog.live/tags/front-end/>Front-End</a></li></ul><nav class=paginav><a class=prev href=https://hsuanblog.live/posts/javascript-%E4%B8%AD%E7%9A%84-call-by-sharing/><span class=title>« Prev</span><br><span>JavaScript 中的 Call by sharing</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://hsuanblog.live/>Hsuan's Coding Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>