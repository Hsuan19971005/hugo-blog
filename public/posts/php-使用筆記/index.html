<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>PHP 使用筆記 | Hsuan's Coding Blog</title>
<meta name=keywords content="PHP"><meta name=description content='PHP (Hypertext Prepocessor) 超文字預處理器，為直譯式的程式語言，可嵌入在HTML中使用。這裡記錄了PHP基礎語法與常見的函數。
1. 環境安裝與設定 下載PHP的方式：
MAMP(適合Wordpress) Homebrew(適合Laravel等框架) 常見的web server:
Apache Nginx(需要處理fpm) PHP自帶的web server(不是很好用) PHP設定檔為php.ini，位在/opt/homebrew/etc/php/8.1/
1.1 Homebrew 安裝 PHP $ brew install php $ brew install php@8.1 # reopen terminal $ which php # /opt/homebrew/bin/php $ ls -al "php安裝的路徑" $ brew link php $ brew unlink php $ echo $PATH # 前面的指令優先級較高 $ php -S 127.0.0.1:8000 # 運行index.php 2. PHP基礎語法 PHP使用<?php、?>作為開頭與結尾：
<?php // php code ?> 2.1 註解 Comment // 單行註解，較常使用 # linux風格的單行註解 /* 這是 多行縮排 */ 2.'><meta name=author content="HSUIO, YI-HUSAN"><link rel=canonical href=https://hsuanblog.live/posts/php-%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/><link crossorigin=anonymous href=/assets/css/stylesheet.b609c58d5c11bb90b1a54e04005d74ad1ddf22165eb79f5533967e57df9c3b50.css integrity="sha256-tgnFjVwRu5CxpU4EAF10rR3fIhZet59VM5Z+V9+cO1A=" rel="preload stylesheet" as=style><link rel=icon href=https://hsuanblog.live/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=16x16 href=https://hsuanblog.live/%3Clink%20/%20abs%20url%3E><link rel=icon type=image/png sizes=32x32 href=https://hsuanblog.live/%3Clink%20/%20abs%20url%3E><link rel=apple-touch-icon href=https://hsuanblog.live/%3Clink%20/%20abs%20url%3E><link rel=mask-icon href=https://hsuanblog.live/%3Clink%20/%20abs%20url%3E><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://hsuanblog.live/posts/php-%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="PHP 使用筆記"><meta property="og:description" content='PHP (Hypertext Prepocessor) 超文字預處理器，為直譯式的程式語言，可嵌入在HTML中使用。這裡記錄了PHP基礎語法與常見的函數。
1. 環境安裝與設定 下載PHP的方式：
MAMP(適合Wordpress) Homebrew(適合Laravel等框架) 常見的web server:
Apache Nginx(需要處理fpm) PHP自帶的web server(不是很好用) PHP設定檔為php.ini，位在/opt/homebrew/etc/php/8.1/
1.1 Homebrew 安裝 PHP $ brew install php $ brew install php@8.1 # reopen terminal $ which php # /opt/homebrew/bin/php $ ls -al "php安裝的路徑" $ brew link php $ brew unlink php $ echo $PATH # 前面的指令優先級較高 $ php -S 127.0.0.1:8000 # 運行index.php 2. PHP基礎語法 PHP使用<?php、?>作為開頭與結尾：
<?php // php code ?> 2.1 註解 Comment // 單行註解，較常使用 # linux風格的單行註解 /* 這是 多行縮排 */ 2.'><meta property="og:type" content="article"><meta property="og:url" content="https://hsuanblog.live/posts/php-%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"><meta property="og:image" content="https://hsuanblog.live/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-01-19T00:00:00+00:00"><meta property="article:modified_time" content="2024-01-19T00:00:00+00:00"><meta property="og:site_name" content="ExampleSite"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://hsuanblog.live/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="PHP 使用筆記"><meta name=twitter:description content='PHP (Hypertext Prepocessor) 超文字預處理器，為直譯式的程式語言，可嵌入在HTML中使用。這裡記錄了PHP基礎語法與常見的函數。
1. 環境安裝與設定 下載PHP的方式：
MAMP(適合Wordpress) Homebrew(適合Laravel等框架) 常見的web server:
Apache Nginx(需要處理fpm) PHP自帶的web server(不是很好用) PHP設定檔為php.ini，位在/opt/homebrew/etc/php/8.1/
1.1 Homebrew 安裝 PHP $ brew install php $ brew install php@8.1 # reopen terminal $ which php # /opt/homebrew/bin/php $ ls -al "php安裝的路徑" $ brew link php $ brew unlink php $ echo $PATH # 前面的指令優先級較高 $ php -S 127.0.0.1:8000 # 運行index.php 2. PHP基礎語法 PHP使用<?php、?>作為開頭與結尾：
<?php // php code ?> 2.1 註解 Comment // 單行註解，較常使用 # linux風格的單行註解 /* 這是 多行縮排 */ 2.'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://hsuanblog.live/posts/"},{"@type":"ListItem","position":2,"name":"PHP 使用筆記","item":"https://hsuanblog.live/posts/php-%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"PHP 使用筆記","name":"PHP 使用筆記","description":"PHP (Hypertext Prepocessor) 超文字預處理器，為直譯式的程式語言，可嵌入在HTML中使用。這裡記錄了PHP基礎語法與常見的函數。\n1. 環境安裝與設定 下載PHP的方式：\nMAMP(適合Wordpress) Homebrew(適合Laravel等框架) 常見的web server:\nApache Nginx(需要處理fpm) PHP自帶的web server(不是很好用) PHP設定檔為php.ini，位在/opt/homebrew/etc/php/8.1/\n1.1 Homebrew 安裝 PHP $ brew install php $ brew install php@8.1 # reopen terminal $ which php # /opt/homebrew/bin/php $ ls -al \u0026#34;php安裝的路徑\u0026#34; $ brew link php $ brew unlink php $ echo $PATH # 前面的指令優先級較高 $ php -S 127.0.0.1:8000 # 運行index.php 2. PHP基礎語法 PHP使用\u0026lt;?php、?\u0026gt;作為開頭與結尾：\n\u0026lt;?php // php code ?\u0026gt; 2.1 註解 Comment // 單行註解，較常使用 # linux風格的單行註解 /* 這是 多行縮排 */ 2.","keywords":["PHP"],"articleBody":"PHP (Hypertext Prepocessor) 超文字預處理器，為直譯式的程式語言，可嵌入在HTML中使用。這裡記錄了PHP基礎語法與常見的函數。\n1. 環境安裝與設定 下載PHP的方式：\nMAMP(適合Wordpress) Homebrew(適合Laravel等框架) 常見的web server:\nApache Nginx(需要處理fpm) PHP自帶的web server(不是很好用) PHP設定檔為php.ini，位在/opt/homebrew/etc/php/8.1/\n1.1 Homebrew 安裝 PHP $ brew install php $ brew install php@8.1 # reopen terminal $ which php # /opt/homebrew/bin/php $ ls -al \"php安裝的路徑\" $ brew link php $ brew unlink php $ echo $PATH # 前面的指令優先級較高 $ php -S 127.0.0.1:8000 # 運行index.php 2. PHP基礎語法 PHP使用\u003c?php、?\u003e作為開頭與結尾：\n\u003c?php // php code ?\u003e 2.1 註解 Comment // 單行註解，較常使用 # linux風格的單行註解 /* 這是 多行縮排 */ 2.2 echo \u0026 print echo與print都能輸出字串到畫面，兩者差異：\necho：無回傳值，可省略括號()，效能稍微快一些 print：回傳值1 echo('print out the words'); echo 'print out the words'; echo \"Hello World! \"; echo 'Hello World! '; // 接合變數與字串 $var = 'love'; echo 'I '.$var.' you.'; // I love you. print 'I'.$var.'HAHA'; 2.3 變數命名 變數命名規則：\n以$開頭加上變數名稱 英文字母或底線_開頭，不可以數字開頭 英文大小寫有差異 ex: $name, $Name 變數名稱只可使用英文數字字符與底線(A-z, 0-9, and _ ) $txt = 'love'; echo \"I $txt you.\"; // I love you. :::info :information_source: 沒有初始值的變數，預設會是NULL :::\n2.4 變數範圍 Scope PHP有三種變數範圍：local、global、static，宣告在funciton中的變數為local scope，宣告在funciton外部的變數則是global scope。\n$global_x = 3; // global scope function myFun() { $x = 5; // local scope echo \"Variable x inside function is: $x\n\"; } myFun(); 在function內部取用外部的變數會產生錯誤，然而可以使用global關鍵字在function內部取得global scope的變數：\n$x = 3; function myFun(){ global $x; echo $x; } 其實PHP有一個超級全域變數矩陣$GLOBAL用以記錄所有的global variable，因此也可以使用該變數於function內取得global variable：\n$x = 5; $y = 10; function myFun() { $GLOBALS['y'] = $GLOBALS['x'] + $GLOBALS['y']; } myFun(); echo $y; // outputs 15 可以透過static宣告變數，該變數不會因為function執行結束而消失：\nfunction myFun() { static $x = 0; echo $x; $x++; } myFun(); // 0 myFun(); // 1 myFun(); // 2 2.5 資料型別 DataType String Integer Float (也可以稱作double) Boolean Array Object NULL Resource 可以使用var_dump()輸出變數的資料型別到畫面中。\n2.6 字串 String $txt = 'PHP'; echo \"Learning \".$txt.\" is \". \"fun \"; // Learning PHP is fun // 注意''與\"\"的不同 $txt = 'love'; echo 'I $txt you.'; // I $txt you. echo \"I $txt you.\"; // I love you. 在\"\"中使用\\來跳脫字元\n$txt = \"My name is \\\"Hsuan\\\".\\n\"; // My name is \"Hsuan\". -\u003e 跳脫字元列表 String 其他的常見操作請參考標題：PHP 常見函數與使用情境 / String\n2.7 數字 Number 主要有三個類別：\nInteger：整數 Float：浮點數，PHP中double與float是相同的 Number Strings：字串類型的數字，如'120' 另外還有兩個資料類別：\nInfinity：超過PHP_FLOAT_MAX的數字 NaN：代表計算錯誤或無法運算 $a = 5; $b = 5.34; $c = \"25\"; is_int($a); // true is_int($b); // false is_int($c); // false is_float($a); // false is_float($b); // true is_float($c); // false is_numeric($a); // true is_numeric($b); // true is_numeric($c); // true :::warning :warning: 小心自動型別轉換\nvar_dump('1' + 2); // int(3) var_dump('1' + '3.0'); // float(4) ::: 在進行String、Integer、Float三者間的型別轉換時，除了使用PHP提供的函式庫，如intval外，還可使用cast (int)來進行轉換：\n// to integer $x = 123.456; echo intval($x); echo (int)$x; // to float $y = '456.789'; echo floatval($y); echo (float)$y; // to string $z = 654.321; echo strval($z); echo (string)$z; Number 其他的常見操作請參考標題：PHP 常見使用函數與情境 / Number \u0026 Math\n2.8 運算子 Operator 這裡針對特殊運算子進行說明。運算子列表\n==、!=的比較不會判斷型別 ==、!=的比較會判斷型別 \u003c\u003e等於!=，但不推薦使用\u003c\u003e var_dump(2 == '2.0'); // bool(true) var_dump(2 === '2.0'); // bool(false) 建議不要使用and、or、xor，而是使用\u0026\u0026、||、! \u003c=\u003e會比較兩數大小，相同回傳0，左側數字大回傳1，右側數字大回傳-1 2.9 True or False 以下情況會判斷為false:\nfalse本身 字串類型 '', '0' 數字類型 0, 0.0, -0.0 空矩陣 [] NULL :::warning :warning: 使用邏輯判斷時要注意Boolean的自動轉型：\nvar_dump('' === false); // false var_dump('' == false); // true echo (4-4) ? 'true' : 'false'; // true :::\n2.10 型別指定 ＆ 強制轉型 \u0026 嚴格模式 PHP預設會自動轉型，可以透過型別指定或強制轉型(cast)試著解決這一問題，但是還是有可能會出現錯誤(Number轉String)。最好的解法是設定嚴格模式，注意strict_type只能寫在第一行。\n// 型別指定（數字可能自動轉成String） function myFunction(Person person){} // 使用cast強制轉型 (int) $stringVar // 嚴格模式，只能寫在第一行 declare(strict_type=1); 2.11 常數 Constant \u0026魔術常數 Magic Constant 常數Constant在宣告後就無法再被修改，可以使用define()、const進行宣告，或者也可以使用Superglobals中的$GLOBALS宣告：\n// 常數以大寫表示，並且不使用$ define(BR, \"\"); const BR = \"\"; // 注意：const不能在block scope內宣告 $GLOBALS[\"BR\"] = \"\"; 魔術常數(Magic Constants)：為系統常數，case-insensitive，會於編譯時賦予數值，因此會根據系統的差異而有所變化，以下為9個Magic Constants。\n__CLASS__ __DIR__ __FILE__ __FUNCTION__ __LINE__ __METHOD__ __NAMESPACE__ __TRAIT__ ClassName::class 2.12 超級全域變數 Superglobals 超級全域變數(Superglobals)沒有scope的限制，可以在任何位置取用：\n$GLOBALS $_SERVER $_REQUEST $_POST $_GET $_FILES $_ENV $_COOKIE $_SESSION 常見使用範例：\n$x = 1; $GLOBALS['x']; // 獲取全域變數 $_GET['yourParam']; // 獲取query string的參數 $_POST['yourParam']; // 獲取post的參數 $_COOKIE['yourParam']; // 獲取瀏覽器傳出的Cookie參數 // _REQUEST為_GET, _POST, _COOKIE的集合，不建議使用，有安全上的疑慮 $_REQUEST['yourParam']; 2.13 條件判斷 // if判斷 if(){ }else{ } if(){ }elseif(){ }else{ } if($val != null){ }esle{ } // Ternary 三元運算子 ( ) ? : // switch 要記得使用break $number = 3; switch($number){ case 0: echo \"0\"; break; case 1: echo \"1\"; break; default: echo 'default'; break; } 2.14 矩陣 Array 矩陣是一種數據結構，PHP中的矩陣類似傳統動態矩陣與雜湊表的結合，PHP稱呼其Indexed Array與Associative Array，一般宣告Indexed Array時，其key值如同傳統矩陣由0開始編號，再進行元素處理時，key的順序不一定會重新排列，這點需要特別注意。 Indexed Array:\n// 宣告 $arr = array('hello', 2, 'world'); $arr = ['hello', 2, 'world']; // 操作元素 echo $arr[0]; array_push($array1, 'new'); array_pop($array1); array_shift($array1); array_unshift($array1, \"apple\", \"raspberry\"); array_splice($array1, 2, 0, ['insert']); // 去除元素 // 使用unset去除元素會造成空缺 unset($arr[1]); //去除key為1的組合，key=1會造成空缺 $array1 = array_values($array1); // 利用array_values整理出新的矩陣 // 使用array_splice去除元素不會造成空缺 array_splice($arr, 2, 1); Associative Array:\n// 宣告 $arr = array('name' =\u003e 'Jack', 0 =\u003e 'number0'); // 操作元素 $arr['online']; $arr[0]; Array 其他的常見操作請參考標題：PHP 常見函數與使用情境 / Array\n2.15 迴圈 while(){ } do{ }while() $students = ['Lailai','Jarvis','Elsa','Ian']; for ($index = 0; $index \u003c count($students); $index++){ echo '姓名: ' . $students[$index] . ''; } foreach($students as $student){ echo '姓名: ' . $student . ''; } foreach($age as $key =\u003e $val){ } 可於迴圈中搭配運算子使用：continue、break\n2.16 巢狀迴圈 $students = [ [ '姓名' =\u003e '小明', '數學成績' =\u003e 30, '英文成績' =\u003e 40 ], [ '姓名' =\u003e '老王', '數學成績' =\u003e 83, '英文成績' =\u003e 30 ] ]; foreach($students as $student){ foreach($student as $key =\u003e $value){ } } 2.17 函數 Function // 無回傳值的函數 function functionNoReturn(){ echo 'my funtion!'; } functionNoReturn(); // 有回傳值的函數 function functionWithReturn(){ return 'my function!'; } echo functionWithReturn(); // 可回傳Object or Array function personInfo(){ return array('Jack', 18, 'Male'); } list ($name, $age, $gender) = personInfo(); // 有參數的函數 function minusTwo($num1, $num2){ return $num1 - $num2; } // 可指定回傳參數與回傳類型 function addTwo(int $num1, int $num2) : string { return strval($num1 + $num2); } // Default Argument function multiplyTwo($num1, $num2 = 0){ ... } 3. PHP 物件導向 OOP 3.1 Class \u0026 Object class Student{ public $name; public $grades = array(); public function __construct($name, $mathScore, $englishScore){ $this-\u003ename = $name; $this-\u003egrades[0] = $mathScore; $this-\u003egrades[1] = $englishScore; } public function printAllGrades(){ foreach($this-\u003egrades as $grade){ echo $grade.''; } } } 使用require或include引用別的.php檔：\nrequire \"./student.php\"; $s1 = new Student('Elsa', 10, 20); $s2 = new Student('Ian', 40, 80); $s1-\u003eprintAllGrades(); 3.2 類別常數 \u0026 靜態函數 const BR = ''; ... static public function printHigherMathGrades($student1, $student2){ $br = self::BR; $higherStudent = ($student1-\u003egrades[0] \u003e $student2-\u003egrades[0]) ? $student1 : $student2; echo $higherStudent-\u003egrades[0].$br; } echo Student::BR; Student::printHigherMathGrades($s1, $s2); 3.3 繼承 使用extends繼承其他 Class，你也可以使用parent呼叫父Class的函數：\nclass A { function example() { echo \"I am A::example() and provide basic functionality.\\n\"; } } class B extends A { function example() { echo \"I am B::example() and provide additional functionality.\\n\"; parent::example(); } } $b = new B; $b-\u003eexample(); // Output: // I am B::example() and provide additional functionality. // I am A::example() and provide basic functionality. 3.4 命名空間Namespace 為了更好的組織Class，以及避免名稱衝突的問題，可以使用命名空間namespace為Class進行組織分類，注意namespace一定要位於所有程式碼的最前方：\n// Home.php namespace Home\\Kitchen; class Table(){...} 在其他腳本使用Class時需要連命名空間也寫出來，如果所有的Class都使用相同的命名空間，則可以將namespace寫在最前方，這樣之後的Class在使用時就可以省略命名空間的部分。\ninclude 'Home.php' $table = new Home\\Kitchen\\Table(); namespace Home\\Kitchen; include 'Home.php'; $table = new Table(); 可使用use為命名空間或Class設定別名：\nuse Home\\Kitchen as HK; $table = new HK\\Table(); use Home\\Kitchen\\Table as T; $table = new T(); 4. PHP 常見函數與使用情境 4.1 Number \u0026 Math // 四捨五入、無條件進位、無條件捨去、操作到小數第N位 round($num, $precision); ceil($num); floor($num); // 次方、根號、餘數、絕對值、PI pow($num, $exponent); $num ** $exponent; sqrt($num); $num ** (1/2); $num % $remainderNum; abs($num); pi(); // 數字每位分割轉換成矩陣 array_map('intval', str_split($num)); 4.2 String strval($var); strlen($str); // 字串長度 str_word_count($str); // 單字數量 $new_str = 'somestring' . $val1 . $val2; // 字串相接 // 字串轉換成矩陣 str_split($str); // char全分割 explode($seperator, $str); // 依照seperator分割 // 找尋特定字串index strpos($string, $findme, $offset); // 大小寫轉換：全大寫、全小寫、首字大寫 strtolower($string); // 全大寫 strtoupper($string); // 全小寫 ucfirst($string); // 首字大寫 ucwords($string); // 全單字首字大寫 // 獲取字串部分內容 substr('abcd', 1, 2); // 'bc' substr('abcd', 1); // 'bcd' substr('abcd', -2); // 'cd' substr('abcd', 0, -1); // 'abc' // 字串開頭or結尾 str_ends_with($str, $needle); str_starts_with($str, $needle); // 字串前後填充 // type有：STR_PAD_RIGHT, STR_PAD_LEFT str_pad($str, $length, $pad_string, $type); // Unicode：字串轉Unicode、Unicode轉字串 ord($str); // string to unicode chr($numbr); // unicode to string substr_count($str, $needle); // 計算字串中的某個字詞的數量 // 替換特定字 str_replace($search, $replace, $subject); str_replace(\"%body%\", \"black\", \"\"); // Provides: $vowels = array(\"a\", \"e\", \"i\", \"o\", \"u\", \"A\", \"E\", \"I\", \"O\", \"U\"); str_replace($vowels, \"\", \"Hello World of PHP\"); // Provides: Hll Wrld f PHP preg_replace($pattern, $replace, $subject); // 正則表達式替換 4.3 Array count($arr); // 矩陣長度 empty($arr); // bool 是否為空[], 0, '0', '', null implode(',', $array); // 串接成字串，中間夾著特定字串 // 矩陣首位插入、矩陣首位去除、矩陣末位插入、矩陣末位去除 array_unshift($arr, $val); array_shift($arr); array_push($arr, $val); $arr[] = $val; array_pop($arr); // 取得矩陣部分元素 array_slice($arr, $offset, $length, $seperate_key); // 矩陣index：插入元素、去除元素、取代元素 array_splice($arr, $index, $length, $val_arr); array_splice($arr, $index, 0, $newvals); // 插入多個新元素 array_splice($arr, $index, 1); // 去除1個元素 array_splice($arr, $index, 1, $newval); // 取代1個元素 // 數字矩陣：總和、最大值、最小值、乘積 array_sum($array); // 總和，array裡面可以是字串 max($arr); // 最大 min($arr); // 最小 array_product($array); // 乘積，array裡面可以是字串 // map, filter, reduce array_map(callback, $arr1, $arr2...); array_filter($arr, callback); // 回傳的key是會亂掉的 array_reduce($arr, callback, $init); // function($carry, $item){} // 特定元素是否在矩陣內 in_array($findme, $array); // 取得特定元素在矩陣內的index array_search($findme, $arr, $isStrict); // 元素排列：遞增排列、遞減排列、條件排列 sort($arr); // [1,2,3] rsort($arr); // [3,2,1] usort($arr, callback); // user條件排列 // 範圍矩陣 range(1, 12); range(1,100,10); range(\"a\",\"z\"); rand($from, $to); // 隨機int(含頭尾) // 取得所有 keys 或 values 的矩陣 array_keys($arr); array_values($arr); ...$arr // 展開矩陣 echo json_encode($arr); // 輸出成JSON格式 array_unique($arr); // 去除相同元素 4.4 Others gettype($var); // 取得變數類型 is_null($var); // null判斷 bindec(\"101100\"); // binary to decimal references https://www.php.net/ https://www.w3schools.com/php/ ","wordCount":"1340","inLanguage":"en","image":"https://hsuanblog.live/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E","datePublished":"2024-01-19T00:00:00Z","dateModified":"2024-01-19T00:00:00Z","author":{"@type":"Person","name":"HSUIO, YI-HUSAN"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://hsuanblog.live/posts/php-%E4%BD%BF%E7%94%A8%E7%AD%86%E8%A8%98/"},"publisher":{"@type":"Organization","name":"Hsuan's Coding Blog","logo":{"@type":"ImageObject","url":"https://hsuanblog.live/%3Clink%20/%20abs%20url%3E"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://hsuanblog.live/ accesskey=h title="Hsuan's Coding Blog (Alt + H)"><img src=https://hsuanblog.live/apple-touch-icon.png alt aria-label=logo height=35>Hsuan's Coding Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://hsuanblog.live/posts/ title=Posts><span>Posts</span></a></li><li><a href=https://hsuanblog.live/categories/ title=categories><span>categories</span></a></li><li><a href=https://hsuanblog.live/tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://hsuanblog.live/>Home</a>&nbsp;»&nbsp;<a href=https://hsuanblog.live/posts/>Posts</a></div><h1 class="post-title entry-hint-parent">PHP 使用筆記</h1><div class=post-meta><span title='2024-01-19 00:00:00 +0000 UTC'>January 19, 2024</span>&nbsp;·&nbsp;1340 words&nbsp;·&nbsp;HSUIO, YI-HUSAN</div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><nav id=TableOfContents><ul><li><a href=#1-環境安裝與設定>1. 環境安裝與設定</a><ul><li><a href=#11-homebrew-安裝-php>1.1 Homebrew 安裝 PHP</a></li></ul></li><li><a href=#2-php基礎語法>2. PHP基礎語法</a><ul><li><a href=#21-註解-comment>2.1 註解 Comment</a></li><li><a href=#22-echo--print>2.2 echo & print</a></li><li><a href=#23-變數命名>2.3 變數命名</a></li><li><a href=#24-變數範圍-scope>2.4 變數範圍 Scope</a></li><li><a href=#25-資料型別-datatype>2.5 資料型別 DataType</a></li><li><a href=#26-字串-string>2.6 字串 String</a></li><li><a href=#27-數字-number>2.7 數字 Number</a></li><li><a href=#28-運算子-operator>2.8 運算子 Operator</a></li><li><a href=#29-true-or-false>2.9 True or False</a></li><li><a href=#210-型別指定--強制轉型--嚴格模式>2.10 型別指定 ＆ 強制轉型 & 嚴格模式</a></li><li><a href=#211-常數-constant-魔術常數-magic-constant>2.11 常數 Constant &魔術常數 Magic Constant</a></li><li><a href=#212-超級全域變數-superglobals>2.12 超級全域變數 Superglobals</a></li><li><a href=#213-條件判斷>2.13 條件判斷</a></li><li><a href=#214-矩陣-array>2.14 矩陣 Array</a></li><li><a href=#215-迴圈>2.15 迴圈</a></li><li><a href=#216-巢狀迴圈>2.16 巢狀迴圈</a></li><li><a href=#217-函數-function>2.17 函數 Function</a></li></ul></li><li><a href=#3-php-物件導向-oop>3. PHP 物件導向 OOP</a><ul><li><a href=#31-class--object>3.1 Class & Object</a></li><li><a href=#32-類別常數--靜態函數>3.2 類別常數 & 靜態函數</a></li><li><a href=#33-繼承>3.3 繼承</a></li><li><a href=#34-命名空間namespace>3.4 命名空間Namespace</a></li></ul></li><li><a href=#4-php-常見函數與使用情境>4. PHP 常見函數與使用情境</a><ul><li><a href=#41-number--math>4.1 Number & Math</a></li><li><a href=#42-string>4.2 String</a></li><li><a href=#43-array>4.3 Array</a></li><li><a href=#44-others>4.4 Others</a></li></ul></li><li><a href=#references>references</a></li></ul></nav></div></details></div><div class=post-content><p>PHP (Hypertext Prepocessor) 超文字預處理器，為直譯式的程式語言，可嵌入在HTML中使用。這裡記錄了PHP基礎語法與常見的函數。</p><hr><h2 id=1-環境安裝與設定>1. 環境安裝與設定<a hidden class=anchor aria-hidden=true href=#1-環境安裝與設定>#</a></h2><p>下載PHP的方式：</p><ul><li>MAMP(適合Wordpress)</li><li>Homebrew(適合Laravel等框架)</li></ul><p>常見的web server:</p><ul><li>Apache</li><li>Nginx(需要處理fpm)</li><li>PHP自帶的web server(不是很好用)</li></ul><p>PHP設定檔為<code>php.ini</code>，位在<code>/opt/homebrew/etc/php/8.1/</code></p><h3 id=11-homebrew-安裝-php>1.1 Homebrew 安裝 PHP<a hidden class=anchor aria-hidden=true href=#11-homebrew-安裝-php>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>
</span></span><span class=line><span class=cl>$ brew install php
</span></span><span class=line><span class=cl>$ brew install php@8.1
</span></span><span class=line><span class=cl><span class=c1># reopen terminal</span>
</span></span><span class=line><span class=cl>$ which php <span class=c1># /opt/homebrew/bin/php</span>
</span></span><span class=line><span class=cl>$ ls -al <span class=s2>&#34;php安裝的路徑&#34;</span>
</span></span><span class=line><span class=cl>$ brew link php
</span></span><span class=line><span class=cl>$ brew unlink php
</span></span><span class=line><span class=cl>$ <span class=nb>echo</span> <span class=nv>$PATH</span> <span class=c1># 前面的指令優先級較高</span>
</span></span><span class=line><span class=cl>$ php -S 127.0.0.1:8000 <span class=c1># 運行index.php</span>
</span></span></code></pre></div><hr><h2 id=2-php基礎語法>2. PHP基礎語法<a hidden class=anchor aria-hidden=true href=#2-php基礎語法>#</a></h2><p>PHP使用<code>&lt;?php</code>、<code>?></code>作為開頭與結尾：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=o>&lt;?</span><span class=nx>php</span>
</span></span><span class=line><span class=cl><span class=c1>// php code
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cp>?&gt;</span><span class=err>
</span></span></span></code></pre></div><h3 id=21-註解-comment>2.1 註解 Comment<a hidden class=anchor aria-hidden=true href=#21-註解-comment>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=c1>// 單行註解，較常使用
</span></span></span><span class=line><span class=cl><span class=c1># linux風格的單行註解
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=cm>/* 這是
</span></span></span><span class=line><span class=cl><span class=cm>   多行縮排 */</span>
</span></span></code></pre></div><h3 id=22-echo--print>2.2 echo & print<a hidden class=anchor aria-hidden=true href=#22-echo--print>#</a></h3><p><code>echo</code>與<code>print</code>都能輸出字串到畫面，兩者差異：</p><ul><li><code>echo</code>：無回傳值，可省略括號()，效能稍微快一些</li><li><code>print</code>：回傳值1</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>echo</span><span class=p>(</span><span class=s1>&#39;print out the words&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=s1>&#39;print out the words&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=s2>&#34;Hello World! &lt;br/&gt;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=s1>&#39;Hello World! &lt;br/&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 接合變數與字串
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$var</span> <span class=o>=</span> <span class=s1>&#39;love&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=s1>&#39;I &#39;</span><span class=o>.</span><span class=nv>$var</span><span class=o>.</span><span class=s1>&#39; you.&#39;</span><span class=p>;</span> <span class=c1>// I love you.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>print</span> <span class=s1>&#39;I&#39;</span><span class=o>.</span><span class=nv>$var</span><span class=o>.</span><span class=s1>&#39;HAHA&#39;</span><span class=p>;</span>
</span></span></code></pre></div><h3 id=23-變數命名>2.3 變數命名<a hidden class=anchor aria-hidden=true href=#23-變數命名>#</a></h3><p>變數命名規則：</p><ul><li>以<code>$</code>開頭加上變數名稱</li><li>英文字母或底線<code>_</code>開頭，不可以數字開頭</li><li>英文大小寫有差異 ex: $name, $Name</li><li>變數名稱只可使用英文數字字符與底線(A-z, 0-9, and _ )</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$txt</span> <span class=o>=</span> <span class=s1>&#39;love&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=s2>&#34;I </span><span class=si>$txt</span><span class=s2> you.&#34;</span><span class=p>;</span> <span class=c1>// I love you.
</span></span></span></code></pre></div><p>:::info
:information_source: 沒有初始值的變數，預設會是<code>NULL</code>
:::</p><h3 id=24-變數範圍-scope>2.4 變數範圍 Scope<a hidden class=anchor aria-hidden=true href=#24-變數範圍-scope>#</a></h3><p>PHP有三種變數範圍：local、global、static，宣告在funciton中的變數為local scope，宣告在funciton外部的變數則是global scope。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$global_x</span> <span class=o>=</span> <span class=mi>3</span><span class=p>;</span> <span class=c1>// global scope
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>function</span> <span class=nf>myFun</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>$x</span> <span class=o>=</span> <span class=mi>5</span><span class=p>;</span> <span class=c1>// local scope
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>echo</span> <span class=s2>&#34;&lt;p&gt;Variable x inside function is: </span><span class=si>$x</span><span class=s2>&lt;/p&gt;&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>myFun</span><span class=p>();</span>
</span></span></code></pre></div><p>在function內部取用外部的變數會產生錯誤，然而可以使用<code>global</code>關鍵字在function內部取得global scope的變數：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$x</span> <span class=o>=</span> <span class=mi>3</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>function</span> <span class=nf>myFun</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=k>global</span> <span class=nv>$x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>echo</span> <span class=nv>$x</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>其實PHP有一個超級全域變數矩陣<code>$GLOBAL</code>用以記錄所有的global variable，因此也可以使用該變數於function內取得global variable：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$x</span> <span class=o>=</span> <span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$y</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>function</span> <span class=nf>myFun</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nv>$GLOBALS</span><span class=p>[</span><span class=s1>&#39;y&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=nv>$GLOBALS</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>]</span> <span class=o>+</span> <span class=nv>$GLOBALS</span><span class=p>[</span><span class=s1>&#39;y&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>myFun</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nv>$y</span><span class=p>;</span> <span class=c1>// outputs 15
</span></span></span></code></pre></div><p>可以透過<code>static</code>宣告變數，該變數不會因為function執行結束而消失：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>function</span> <span class=nf>myFun</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>static</span> <span class=nv>$x</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>echo</span> <span class=nv>$x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=nv>$x</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>myFun</span><span class=p>();</span> <span class=c1>// 0
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>myFun</span><span class=p>();</span> <span class=c1>// 1
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>myFun</span><span class=p>();</span> <span class=c1>// 2
</span></span></span></code></pre></div><h3 id=25-資料型別-datatype>2.5 資料型別 DataType<a hidden class=anchor aria-hidden=true href=#25-資料型別-datatype>#</a></h3><ul><li>String</li><li>Integer</li><li>Float (也可以稱作double)</li><li>Boolean</li><li>Array</li><li>Object</li><li>NULL</li><li>Resource</li></ul><p>可以使用<code>var_dump()</code>輸出變數的資料型別到畫面中。</p><h3 id=26-字串-string>2.6 字串 String<a hidden class=anchor aria-hidden=true href=#26-字串-string>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$txt</span> <span class=o>=</span> <span class=s1>&#39;PHP&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=s2>&#34;Learning &#34;</span><span class=o>.</span><span class=nv>$txt</span><span class=o>.</span><span class=s2>&#34; is &#34;</span><span class=o>.</span> <span class=s2>&#34;fun &lt;br/&gt;&#34;</span><span class=p>;</span> <span class=c1>// Learning PHP is fun
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 注意&#39;&#39;與&#34;&#34;的不同
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$txt</span> <span class=o>=</span> <span class=s1>&#39;love&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=s1>&#39;I $txt you.&#39;</span><span class=p>;</span> <span class=c1>// I $txt you.
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=s2>&#34;I </span><span class=si>$txt</span><span class=s2> you.&#34;</span><span class=p>;</span> <span class=c1>// I love you.
</span></span></span></code></pre></div><p>在<code>""</code>中使用<code>\</code>來跳脫字元</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$txt</span> <span class=o>=</span> <span class=s2>&#34;My name is </span><span class=se>\&#34;</span><span class=s2>Hsuan</span><span class=se>\&#34;</span><span class=s2>.</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span> <span class=c1>// My name is &#34;Hsuan&#34;.
</span></span></span></code></pre></div><p>-> <a href=https://www.php.net/manual/en/regexp.reference.escape.php>跳脫字元列表</a>
String 其他的常見操作請參考標題：<strong>PHP 常見函數與使用情境 / String</strong></p><h3 id=27-數字-number>2.7 數字 Number<a hidden class=anchor aria-hidden=true href=#27-數字-number>#</a></h3><p>主要有三個類別：</p><ul><li>Integer：整數</li><li>Float：浮點數，PHP中double與float是相同的</li><li>Number Strings：字串類型的數字，如<code>'120'</code></li></ul><p>另外還有兩個資料類別：</p><ul><li><code>Infinity</code>：超過<code>PHP_FLOAT_MAX</code>的數字</li><li><code>NaN</code>：代表計算錯誤或無法運算</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$a</span> <span class=o>=</span> <span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$b</span> <span class=o>=</span> <span class=mf>5.34</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$c</span> <span class=o>=</span> <span class=s2>&#34;25&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>is_int</span><span class=p>(</span><span class=nv>$a</span><span class=p>);</span> <span class=c1>// true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>is_int</span><span class=p>(</span><span class=nv>$b</span><span class=p>);</span> <span class=c1>// false
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>is_int</span><span class=p>(</span><span class=nv>$c</span><span class=p>);</span> <span class=c1>// false
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>is_float</span><span class=p>(</span><span class=nv>$a</span><span class=p>);</span> <span class=c1>// false
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>is_float</span><span class=p>(</span><span class=nv>$b</span><span class=p>);</span> <span class=c1>// true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>is_float</span><span class=p>(</span><span class=nv>$c</span><span class=p>);</span> <span class=c1>// false
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>is_numeric</span><span class=p>(</span><span class=nv>$a</span><span class=p>);</span> <span class=c1>// true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>is_numeric</span><span class=p>(</span><span class=nv>$b</span><span class=p>);</span> <span class=c1>// true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>is_numeric</span><span class=p>(</span><span class=nv>$c</span><span class=p>);</span> <span class=c1>// true
</span></span></span></code></pre></div><p>:::warning
:warning: 小心自動型別轉換</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nx>var_dump</span><span class=p>(</span><span class=s1>&#39;1&#39;</span> <span class=o>+</span> <span class=mi>2</span><span class=p>);</span> <span class=c1>// int(3)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=s1>&#39;1&#39;</span> <span class=o>+</span> <span class=s1>&#39;3.0&#39;</span><span class=p>);</span> <span class=c1>// float(4)
</span></span></span></code></pre></div><p>:::
在進行String、Integer、Float三者間的型別轉換時，除了使用PHP提供的函式庫，如<code>intval</code>外，還可使用cast <code>(int)</code>來進行轉換：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=c1>// to integer
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$x</span> <span class=o>=</span> <span class=mf>123.456</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nx>intval</span><span class=p>(</span><span class=nv>$x</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=p>(</span><span class=nx>int</span><span class=p>)</span><span class=nv>$x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// to float
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$y</span> <span class=o>=</span> <span class=s1>&#39;456.789&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nx>floatval</span><span class=p>(</span><span class=nv>$y</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=p>(</span><span class=nx>float</span><span class=p>)</span><span class=nv>$y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// to string
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$z</span> <span class=o>=</span> <span class=mf>654.321</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nx>strval</span><span class=p>(</span><span class=nv>$z</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=p>(</span><span class=nx>string</span><span class=p>)</span><span class=nv>$z</span><span class=p>;</span>
</span></span></code></pre></div><p>Number 其他的常見操作請參考標題：<strong>PHP 常見使用函數與情境 / Number & Math</strong></p><h3 id=28-運算子-operator>2.8 運算子 Operator<a hidden class=anchor aria-hidden=true href=#28-運算子-operator>#</a></h3><p>這裡針對特殊運算子進行說明。<a href=https://www.w3schools.com/php/php_operators.asp>運算子列表</a></p><ul><li><code>==</code>、<code>!=</code>的比較<strong>不會</strong>判斷型別</li><li><code>==</code>、<code>!=</code>的比較<strong>會</strong>判斷型別</li><li><code>&lt;></code>等於<code>!=</code>，但不推薦使用<code>&lt;></code></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nx>var_dump</span><span class=p>(</span><span class=mi>2</span> <span class=o>==</span> <span class=s1>&#39;2.0&#39;</span><span class=p>);</span> <span class=c1>// bool(true)
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=mi>2</span> <span class=o>===</span> <span class=s1>&#39;2.0&#39;</span><span class=p>);</span> <span class=c1>// bool(false)
</span></span></span></code></pre></div><ul><li>建議不要使用<code>and</code>、<code>or</code>、<code>xor</code>，而是使用<code>&&</code>、<code>||</code>、<code>!</code></li><li><code>&lt;=></code>會比較兩數大小，相同回傳0，左側數字大回傳1，右側數字大回傳-1</li></ul><h3 id=29-true-or-false>2.9 True or False<a hidden class=anchor aria-hidden=true href=#29-true-or-false>#</a></h3><p>以下情況會判斷為false:</p><ul><li><code>false</code>本身</li><li>字串類型 <code>''</code>, <code>'0'</code></li><li>數字類型 <code>0</code>, <code>0.0</code>, <code>-0.0</code></li><li>空矩陣 <code>[]</code></li><li><code>NULL</code></li></ul><p>:::warning
:warning: 使用邏輯判斷時要注意Boolean的自動轉型：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nx>var_dump</span><span class=p>(</span><span class=s1>&#39;&#39;</span> <span class=o>===</span> <span class=k>false</span><span class=p>);</span> <span class=c1>// false
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>var_dump</span><span class=p>(</span><span class=s1>&#39;&#39;</span> <span class=o>==</span> <span class=k>false</span><span class=p>);</span> <span class=c1>// true
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=p>(</span><span class=mi>4</span><span class=o>-</span><span class=mi>4</span><span class=p>)</span> <span class=o>?</span> <span class=s1>&#39;true&#39;</span> <span class=o>:</span> <span class=s1>&#39;false&#39;</span><span class=p>;</span> <span class=c1>// true
</span></span></span></code></pre></div><p>:::</p><h3 id=210-型別指定--強制轉型--嚴格模式>2.10 型別指定 ＆ 強制轉型 & 嚴格模式<a hidden class=anchor aria-hidden=true href=#210-型別指定--強制轉型--嚴格模式>#</a></h3><p>PHP預設會自動轉型，可以透過型別指定或強制轉型(cast)試著解決這一問題，但是還是有可能會出現錯誤(Number轉String)。最好的解法是設定嚴格模式，注意<code>strict_type</code>只能寫在第一行。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=c1>// 型別指定（數字可能自動轉成String）
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>function</span> <span class=nf>myFunction</span><span class=p>(</span><span class=nx>Person</span> <span class=nx>person</span><span class=p>){}</span>
</span></span><span class=line><span class=cl><span class=c1>// 使用cast強制轉型
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>(</span><span class=nx>int</span><span class=p>)</span> <span class=nv>$stringVar</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=c1>// 嚴格模式，只能寫在第一行
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>declare</span><span class=p>(</span><span class=nx>strict_type</span><span class=o>=</span><span class=mi>1</span><span class=p>);</span>
</span></span></code></pre></div><h3 id=211-常數-constant-魔術常數-magic-constant>2.11 常數 Constant &魔術常數 Magic Constant<a hidden class=anchor aria-hidden=true href=#211-常數-constant-魔術常數-magic-constant>#</a></h3><p>常數Constant在宣告後就無法再被修改，可以使用<code>define()</code>、<code>const</code>進行宣告，或者也可以使用Superglobals中的<code>$GLOBALS</code>宣告：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=c1>// 常數以大寫表示，並且不使用$
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>define</span><span class=p>(</span><span class=nx>BR</span><span class=p>,</span> <span class=s2>&#34;&lt;br/&gt;&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=no>BR</span> <span class=o>=</span> <span class=s2>&#34;&lt;br/&gt;&#34;</span><span class=p>;</span> <span class=c1>// 注意：const不能在block scope內宣告
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nv>$GLOBALS</span><span class=p>[</span><span class=s2>&#34;BR&#34;</span><span class=p>]</span> <span class=o>=</span> <span class=s2>&#34;&lt;br/&gt;&#34;</span><span class=p>;</span>
</span></span></code></pre></div><p>魔術常數(Magic Constants)：為系統常數，case-insensitive，會於編譯時賦予數值，因此會根據系統的差異而有所變化，以下為9個Magic Constants。</p><ul><li><code>__CLASS__</code></li><li><code>__DIR__</code></li><li><code>__FILE__</code></li><li><code>__FUNCTION__</code></li><li><code>__LINE__</code></li><li><code>__METHOD__</code></li><li><code>__NAMESPACE__</code></li><li><code>__TRAIT__</code></li><li><code>ClassName::class</code></li></ul><h3 id=212-超級全域變數-superglobals>2.12 超級全域變數 Superglobals<a hidden class=anchor aria-hidden=true href=#212-超級全域變數-superglobals>#</a></h3><p>超級全域變數(Superglobals)沒有scope的限制，可以在任何位置取用：</p><ul><li><code>$GLOBALS</code></li><li><code>$_SERVER</code></li><li><code>$_REQUEST</code></li><li><code>$_POST</code></li><li><code>$_GET</code></li><li><code>$_FILES</code></li><li><code>$_ENV</code></li><li><code>$_COOKIE</code></li><li><code>$_SESSION</code></li></ul><p>常見使用範例：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$x</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$GLOBALS</span><span class=p>[</span><span class=s1>&#39;x&#39;</span><span class=p>];</span> <span class=c1>// 獲取全域變數
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nv>$_GET</span><span class=p>[</span><span class=s1>&#39;yourParam&#39;</span><span class=p>];</span> <span class=c1>// 獲取query string的參數
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$_POST</span><span class=p>[</span><span class=s1>&#39;yourParam&#39;</span><span class=p>];</span> <span class=c1>// 獲取post的參數
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$_COOKIE</span><span class=p>[</span><span class=s1>&#39;yourParam&#39;</span><span class=p>];</span> <span class=c1>// 獲取瀏覽器傳出的Cookie參數
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// _REQUEST為_GET, _POST, _COOKIE的集合，不建議使用，有安全上的疑慮
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$_REQUEST</span><span class=p>[</span><span class=s1>&#39;yourParam&#39;</span><span class=p>];</span>
</span></span></code></pre></div><h3 id=213-條件判斷>2.13 條件判斷<a hidden class=anchor aria-hidden=true href=#213-條件判斷>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=c1>// if判斷
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>if</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span><span class=k>elseif</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span><span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>if</span><span class=p>(</span><span class=nv>$val</span> <span class=o>!=</span> <span class=k>null</span><span class=p>){</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span><span class=nx>esle</span><span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Ternary 三元運算子
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>(</span> <span class=p>)</span> <span class=o>?</span> <span class=o>:</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// switch 要記得使用break
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$number</span> <span class=o>=</span> <span class=mi>3</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>switch</span><span class=p>(</span><span class=nv>$number</span><span class=p>){</span>
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=mi>0</span><span class=o>:</span>
</span></span><span class=line><span class=cl>  <span class=k>echo</span> <span class=s2>&#34;0&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>case</span> <span class=mi>1</span><span class=o>:</span>
</span></span><span class=line><span class=cl>  <span class=k>echo</span> <span class=s2>&#34;1&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>default</span><span class=o>:</span>
</span></span><span class=line><span class=cl>  <span class=k>echo</span> <span class=s1>&#39;default&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=214-矩陣-array>2.14 矩陣 Array<a hidden class=anchor aria-hidden=true href=#214-矩陣-array>#</a></h3><p>矩陣是一種數據結構，PHP中的矩陣類似傳統動態矩陣與雜湊表的結合，PHP稱呼其Indexed Array與Associative Array，一般宣告Indexed Array時，其key值如同傳統矩陣由0開始編號，再進行元素處理時，key的順序不一定會重新排列，這點需要特別注意。
Indexed Array:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=c1>// 宣告
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$arr</span> <span class=o>=</span> <span class=k>array</span><span class=p>(</span><span class=s1>&#39;hello&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;world&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$arr</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;hello&#39;</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;world&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=c1>// 操作元素
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=nv>$arr</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=nx>array_push</span><span class=p>(</span><span class=nv>$array1</span><span class=p>,</span> <span class=s1>&#39;new&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>array_pop</span><span class=p>(</span><span class=nv>$array1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>array_shift</span><span class=p>(</span><span class=nv>$array1</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>array_unshift</span><span class=p>(</span><span class=nv>$array1</span><span class=p>,</span> <span class=s2>&#34;apple&#34;</span><span class=p>,</span> <span class=s2>&#34;raspberry&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>array_splice</span><span class=p>(</span><span class=nv>$array1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=p>[</span><span class=s1>&#39;insert&#39;</span><span class=p>]);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 去除元素
</span></span></span><span class=line><span class=cl><span class=c1>// 使用unset去除元素會造成空缺
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>unset</span><span class=p>(</span><span class=nv>$arr</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span> <span class=c1>//去除key為1的組合，key=1會造成空缺
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$array1</span> <span class=o>=</span> <span class=nx>array_values</span><span class=p>(</span><span class=nv>$array1</span><span class=p>);</span> <span class=c1>// 利用array_values整理出新的矩陣
</span></span></span><span class=line><span class=cl><span class=c1>// 使用array_splice去除元素不會造成空缺
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>array_splice</span><span class=p>(</span><span class=nv>$arr</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>
</span></span></code></pre></div><p>Associative Array:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=c1>// 宣告
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$arr</span> <span class=o>=</span> <span class=k>array</span><span class=p>(</span><span class=s1>&#39;name&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;Jack&#39;</span><span class=p>,</span> <span class=mi>0</span> <span class=o>=&gt;</span> <span class=s1>&#39;number0&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// 操作元素
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$arr</span><span class=p>[</span><span class=s1>&#39;online&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=nv>$arr</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span></span></code></pre></div><p>Array 其他的常見操作請參考標題：<strong>PHP 常見函數與使用情境 / Array</strong></p><h3 id=215-迴圈>2.15 迴圈<a hidden class=anchor aria-hidden=true href=#215-迴圈>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>while</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>do</span><span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>}</span><span class=k>while</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$students</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;Lailai&#39;</span><span class=p>,</span><span class=s1>&#39;Jarvis&#39;</span><span class=p>,</span><span class=s1>&#39;Elsa&#39;</span><span class=p>,</span><span class=s1>&#39;Ian&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=nv>$index</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nv>$index</span> <span class=o>&lt;</span> <span class=nx>count</span><span class=p>(</span><span class=nv>$students</span><span class=p>);</span> <span class=nv>$index</span><span class=o>++</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=k>echo</span> <span class=s1>&#39;姓名: &#39;</span> <span class=o>.</span> <span class=nv>$students</span><span class=p>[</span><span class=nv>$index</span><span class=p>]</span> <span class=o>.</span> <span class=s1>&#39;&lt;br/&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>foreach</span><span class=p>(</span><span class=nv>$students</span> <span class=k>as</span> <span class=nv>$student</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=k>echo</span> <span class=s1>&#39;姓名: &#39;</span> <span class=o>.</span> <span class=nv>$student</span> <span class=o>.</span> <span class=s1>&#39;&lt;br/&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>foreach</span><span class=p>(</span><span class=nv>$age</span> <span class=k>as</span> <span class=nv>$key</span> <span class=o>=&gt;</span> <span class=nv>$val</span><span class=p>){</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><p>可於迴圈中搭配運算子使用：<code>continue</code>、<code>break</code></p><h3 id=216-巢狀迴圈>2.16 巢狀迴圈<a hidden class=anchor aria-hidden=true href=#216-巢狀迴圈>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nv>$students</span> <span class=o>=</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;姓名&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;小明&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;數學成績&#39;</span> <span class=o>=&gt;</span> <span class=mi>30</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;英文成績&#39;</span> <span class=o>=&gt;</span> <span class=mi>40</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;姓名&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;老王&#39;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;數學成績&#39;</span> <span class=o>=&gt;</span> <span class=mi>83</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s1>&#39;英文成績&#39;</span> <span class=o>=&gt;</span> <span class=mi>30</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>];</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>foreach</span><span class=p>(</span><span class=nv>$students</span> <span class=k>as</span> <span class=nv>$student</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=k>foreach</span><span class=p>(</span><span class=nv>$student</span> <span class=k>as</span> <span class=nv>$key</span> <span class=o>=&gt;</span> <span class=nv>$value</span><span class=p>){</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h3 id=217-函數-function>2.17 函數 Function<a hidden class=anchor aria-hidden=true href=#217-函數-function>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=c1>// 無回傳值的函數
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>function</span> <span class=nf>functionNoReturn</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>    <span class=k>echo</span> <span class=s1>&#39;my funtion!&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=nx>functionNoReturn</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 有回傳值的函數
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>function</span> <span class=nf>functionWithReturn</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=s1>&#39;my function!&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>echo</span> <span class=nx>functionWithReturn</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 可回傳Object or Array
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>function</span> <span class=nf>personInfo</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=k>array</span><span class=p>(</span><span class=s1>&#39;Jack&#39;</span><span class=p>,</span> <span class=mi>18</span><span class=p>,</span> <span class=s1>&#39;Male&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>list</span> <span class=p>(</span><span class=nv>$name</span><span class=p>,</span> <span class=nv>$age</span><span class=p>,</span> <span class=nv>$gender</span><span class=p>)</span> <span class=o>=</span> <span class=nx>personInfo</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 有參數的函數
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>function</span> <span class=nf>minusTwo</span><span class=p>(</span><span class=nv>$num1</span><span class=p>,</span> <span class=nv>$num2</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nv>$num1</span> <span class=o>-</span> <span class=nv>$num2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 可指定回傳參數與回傳類型
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>function</span> <span class=nf>addTwo</span><span class=p>(</span><span class=nx>int</span> <span class=nv>$num1</span><span class=p>,</span> <span class=nx>int</span> <span class=nv>$num2</span><span class=p>)</span> <span class=o>:</span> <span class=nx>string</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nx>strval</span><span class=p>(</span><span class=nv>$num1</span> <span class=o>+</span> <span class=nv>$num2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Default Argument
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>function</span> <span class=nf>multiplyTwo</span><span class=p>(</span><span class=nv>$num1</span><span class=p>,</span> <span class=nv>$num2</span> <span class=o>=</span> <span class=mi>0</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=o>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div><h2 id=3-php-物件導向-oop>3. PHP 物件導向 OOP<a hidden class=anchor aria-hidden=true href=#3-php-物件導向-oop>#</a></h2><h3 id=31-class--object>3.1 Class & Object<a hidden class=anchor aria-hidden=true href=#31-class--object>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>class</span> <span class=nc>Student</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=nv>$name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=nv>$grades</span> <span class=o>=</span> <span class=k>array</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=fm>__construct</span><span class=p>(</span><span class=nv>$name</span><span class=p>,</span> <span class=nv>$mathScore</span><span class=p>,</span> <span class=nv>$englishScore</span><span class=p>){</span>
</span></span><span class=line><span class=cl>      <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>name</span> <span class=o>=</span> <span class=nv>$name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>grades</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=nv>$mathScore</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nv>$this</span><span class=o>-&gt;</span><span class=na>grades</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=nv>$englishScore</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>public</span> <span class=k>function</span> <span class=nf>printAllGrades</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>      <span class=k>foreach</span><span class=p>(</span><span class=nv>$this</span><span class=o>-&gt;</span><span class=na>grades</span> <span class=k>as</span> <span class=nv>$grade</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>echo</span> <span class=nv>$grade</span><span class=o>.</span><span class=s1>&#39;&lt;br/&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></div><p>使用<code>require</code>或<code>include</code>引用別的.php檔：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>require</span> <span class=s2>&#34;./student.php&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$s1</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Student</span><span class=p>(</span><span class=s1>&#39;Elsa&#39;</span><span class=p>,</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$s2</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Student</span><span class=p>(</span><span class=s1>&#39;Ian&#39;</span><span class=p>,</span> <span class=mi>40</span><span class=p>,</span> <span class=mi>80</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$s1</span><span class=o>-&gt;</span><span class=na>printAllGrades</span><span class=p>();</span>
</span></span></code></pre></div><h3 id=32-類別常數--靜態函數>3.2 類別常數 & 靜態函數<a hidden class=anchor aria-hidden=true href=#32-類別常數--靜態函數>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>const</span> <span class=no>BR</span> <span class=o>=</span> <span class=s1>&#39;&lt;br/&gt;&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=o>...</span>
</span></span><span class=line><span class=cl><span class=k>static</span> <span class=k>public</span> <span class=k>function</span> <span class=nf>printHigherMathGrades</span><span class=p>(</span><span class=nv>$student1</span><span class=p>,</span> <span class=nv>$student2</span><span class=p>){</span>
</span></span><span class=line><span class=cl>      <span class=nv>$br</span> <span class=o>=</span> <span class=nx>self</span><span class=o>::</span><span class=na>BR</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=nv>$higherStudent</span> <span class=o>=</span> <span class=p>(</span><span class=nv>$student1</span><span class=o>-&gt;</span><span class=na>grades</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>&gt;</span> <span class=nv>$student2</span><span class=o>-&gt;</span><span class=na>grades</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span> <span class=o>?</span> <span class=nv>$student1</span> <span class=o>:</span> <span class=nv>$student2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>echo</span> <span class=nv>$higherStudent</span><span class=o>-&gt;</span><span class=na>grades</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>.</span><span class=nv>$br</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>echo</span> <span class=nx>Student</span><span class=o>::</span><span class=na>BR</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>Student</span><span class=o>::</span><span class=na>printHigherMathGrades</span><span class=p>(</span><span class=nv>$s1</span><span class=p>,</span> <span class=nv>$s2</span><span class=p>);</span>
</span></span></code></pre></div><h3 id=33-繼承>3.3 繼承<a hidden class=anchor aria-hidden=true href=#33-繼承>#</a></h3><p>使用<code>extends</code>繼承其他 Class，你也可以使用<code>parent</code>呼叫父Class的函數：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>class</span> <span class=nc>A</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>function</span> <span class=nf>example</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>echo</span> <span class=s2>&#34;I am A::example() and provide basic functionality.</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>B</span> <span class=k>extends</span> <span class=nx>A</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>function</span> <span class=nf>example</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>echo</span> <span class=s2>&#34;I am B::example() and provide additional functionality.</span><span class=se>\n</span><span class=s2>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>parent</span><span class=o>::</span><span class=na>example</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$b</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>B</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$b</span><span class=o>-&gt;</span><span class=na>example</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Output:
</span></span></span><span class=line><span class=cl><span class=c1>// I am B::example() and provide additional functionality.
</span></span></span><span class=line><span class=cl><span class=c1>// I am A::example() and provide basic functionality.
</span></span></span></code></pre></div><h3 id=34-命名空間namespace>3.4 命名空間Namespace<a hidden class=anchor aria-hidden=true href=#34-命名空間namespace>#</a></h3><p>為了更好的組織Class，以及避免名稱衝突的問題，可以使用命名空間<code>namespace</code>為Class進行組織分類，注意<code>namespace</code>一定要位於所有程式碼的最前方：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=c1>// Home.php
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>namespace</span> <span class=nx>Home\Kitchen</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Table</span><span class=p>(){</span><span class=o>...</span><span class=p>}</span>
</span></span></code></pre></div><p>在其他腳本使用Class時需要連命名空間也寫出來，如果所有的Class都使用相同的命名空間，則可以將<code>namespace</code>寫在最前方，這樣之後的Class在使用時就可以省略命名空間的部分。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>include</span> <span class=s1>&#39;Home.php&#39;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$table</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Home\Kitchen\Table</span><span class=p>();</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>namespace</span> <span class=nx>Home\Kitchen</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>include</span> <span class=s1>&#39;Home.php&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nv>$table</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Table</span><span class=p>();</span>
</span></span></code></pre></div><p>可使用<code>use</code>為命名空間或Class設定別名：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>use</span> <span class=nx>Home\Kitchen</span> <span class=k>as</span> <span class=nx>HK</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$table</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>HK\Table</span><span class=p>();</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=k>use</span> <span class=nx>Home\Kitchen\Table</span> <span class=k>as</span> <span class=nx>T</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nv>$table</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>T</span><span class=p>();</span>
</span></span></code></pre></div><hr><h2 id=4-php-常見函數與使用情境>4. PHP 常見函數與使用情境<a hidden class=anchor aria-hidden=true href=#4-php-常見函數與使用情境>#</a></h2><h3 id=41-number--math>4.1 Number & Math<a hidden class=anchor aria-hidden=true href=#41-number--math>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=c1>// 四捨五入、無條件進位、無條件捨去、操作到小數第N位
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>round</span><span class=p>(</span><span class=nv>$num</span><span class=p>,</span> <span class=nv>$precision</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>ceil</span><span class=p>(</span><span class=nv>$num</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>floor</span><span class=p>(</span><span class=nv>$num</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 次方、根號、餘數、絕對值、PI
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>pow</span><span class=p>(</span><span class=nv>$num</span><span class=p>,</span> <span class=nv>$exponent</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$num</span> <span class=o>**</span> <span class=nv>$exponent</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>sqrt</span><span class=p>(</span><span class=nv>$num</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$num</span> <span class=o>**</span> <span class=p>(</span><span class=mi>1</span><span class=o>/</span><span class=mi>2</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$num</span> <span class=o>%</span> <span class=nv>$remainderNum</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>abs</span><span class=p>(</span><span class=nv>$num</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>pi</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 數字每位分割轉換成矩陣
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>array_map</span><span class=p>(</span><span class=s1>&#39;intval&#39;</span><span class=p>,</span> <span class=nx>str_split</span><span class=p>(</span><span class=nv>$num</span><span class=p>));</span>
</span></span></code></pre></div><h3 id=42-string>4.2 String<a hidden class=anchor aria-hidden=true href=#42-string>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nx>strval</span><span class=p>(</span><span class=nv>$var</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>strlen</span><span class=p>(</span><span class=nv>$str</span><span class=p>);</span> <span class=c1>// 字串長度
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str_word_count</span><span class=p>(</span><span class=nv>$str</span><span class=p>);</span> <span class=c1>// 單字數量
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$new_str</span> <span class=o>=</span> <span class=s1>&#39;somestring&#39;</span> <span class=o>.</span> <span class=nv>$val1</span> <span class=o>.</span> <span class=nv>$val2</span><span class=p>;</span> <span class=c1>// 字串相接
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 字串轉換成矩陣
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str_split</span><span class=p>(</span><span class=nv>$str</span><span class=p>);</span> <span class=c1>// char全分割
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>explode</span><span class=p>(</span><span class=nv>$seperator</span><span class=p>,</span> <span class=nv>$str</span><span class=p>);</span> <span class=c1>// 依照seperator分割
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 找尋特定字串index
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>strpos</span><span class=p>(</span><span class=nv>$string</span><span class=p>,</span> <span class=nv>$findme</span><span class=p>,</span> <span class=nv>$offset</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 大小寫轉換：全大寫、全小寫、首字大寫
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>strtolower</span><span class=p>(</span><span class=nv>$string</span><span class=p>);</span> <span class=c1>// 全大寫
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>strtoupper</span><span class=p>(</span><span class=nv>$string</span><span class=p>);</span> <span class=c1>// 全小寫
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ucfirst</span><span class=p>(</span><span class=nv>$string</span><span class=p>);</span> <span class=c1>// 首字大寫
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ucwords</span><span class=p>(</span><span class=nv>$string</span><span class=p>);</span> <span class=c1>// 全單字首字大寫
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 獲取字串部分內容
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>substr</span><span class=p>(</span><span class=s1>&#39;abcd&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>);</span> <span class=c1>// &#39;bc&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>substr</span><span class=p>(</span><span class=s1>&#39;abcd&#39;</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span> <span class=c1>// &#39;bcd&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>substr</span><span class=p>(</span><span class=s1>&#39;abcd&#39;</span><span class=p>,</span> <span class=o>-</span><span class=mi>2</span><span class=p>);</span> <span class=c1>// &#39;cd&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>substr</span><span class=p>(</span><span class=s1>&#39;abcd&#39;</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>);</span> <span class=c1>// &#39;abc&#39;
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 字串開頭or結尾
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str_ends_with</span><span class=p>(</span><span class=nv>$str</span><span class=p>,</span> <span class=nv>$needle</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>str_starts_with</span><span class=p>(</span><span class=nv>$str</span><span class=p>,</span> <span class=nv>$needle</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 字串前後填充
</span></span></span><span class=line><span class=cl><span class=c1>// type有：STR_PAD_RIGHT, STR_PAD_LEFT
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str_pad</span><span class=p>(</span><span class=nv>$str</span><span class=p>,</span> <span class=nv>$length</span><span class=p>,</span> <span class=nv>$pad_string</span><span class=p>,</span> <span class=nv>$type</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// Unicode：字串轉Unicode、Unicode轉字串
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>ord</span><span class=p>(</span><span class=nv>$str</span><span class=p>);</span> <span class=c1>// string to unicode
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>chr</span><span class=p>(</span><span class=nv>$numbr</span><span class=p>);</span> <span class=c1>// unicode to string
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>substr_count</span><span class=p>(</span><span class=nv>$str</span><span class=p>,</span> <span class=nv>$needle</span><span class=p>);</span> <span class=c1>// 計算字串中的某個字詞的數量
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 替換特定字
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str_replace</span><span class=p>(</span><span class=nv>$search</span><span class=p>,</span> <span class=nv>$replace</span><span class=p>,</span> <span class=nv>$subject</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>str_replace</span><span class=p>(</span><span class=s2>&#34;%body%&#34;</span><span class=p>,</span> <span class=s2>&#34;black&#34;</span><span class=p>,</span> <span class=s2>&#34;&lt;body text=&#39;%body%&#39;&gt;&#34;</span><span class=p>);</span> <span class=c1>// Provides: &lt;body text=&#39;black&#39;&gt;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nv>$vowels</span> <span class=o>=</span> <span class=k>array</span><span class=p>(</span><span class=s2>&#34;a&#34;</span><span class=p>,</span> <span class=s2>&#34;e&#34;</span><span class=p>,</span> <span class=s2>&#34;i&#34;</span><span class=p>,</span> <span class=s2>&#34;o&#34;</span><span class=p>,</span> <span class=s2>&#34;u&#34;</span><span class=p>,</span> <span class=s2>&#34;A&#34;</span><span class=p>,</span> <span class=s2>&#34;E&#34;</span><span class=p>,</span> <span class=s2>&#34;I&#34;</span><span class=p>,</span> <span class=s2>&#34;O&#34;</span><span class=p>,</span> <span class=s2>&#34;U&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>str_replace</span><span class=p>(</span><span class=nv>$vowels</span><span class=p>,</span> <span class=s2>&#34;&#34;</span><span class=p>,</span> <span class=s2>&#34;Hello World of PHP&#34;</span><span class=p>);</span> <span class=c1>// Provides: Hll Wrld f PHP
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>preg_replace</span><span class=p>(</span><span class=nv>$pattern</span><span class=p>,</span> <span class=nv>$replace</span><span class=p>,</span> <span class=nv>$subject</span><span class=p>);</span> <span class=c1>// 正則表達式替換
</span></span></span></code></pre></div><h3 id=43-array>4.3 Array<a hidden class=anchor aria-hidden=true href=#43-array>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nx>count</span><span class=p>(</span><span class=nv>$arr</span><span class=p>);</span> <span class=c1>// 矩陣長度
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>empty</span><span class=p>(</span><span class=nv>$arr</span><span class=p>);</span> <span class=c1>// bool 是否為空[], 0, &#39;0&#39;, &#39;&#39;, null
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>implode</span><span class=p>(</span><span class=s1>&#39;,&#39;</span><span class=p>,</span> <span class=nv>$array</span><span class=p>);</span> <span class=c1>// 串接成字串，中間夾著特定字串
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 矩陣首位插入、矩陣首位去除、矩陣末位插入、矩陣末位去除
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>array_unshift</span><span class=p>(</span><span class=nv>$arr</span><span class=p>,</span> <span class=nv>$val</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>array_shift</span><span class=p>(</span><span class=nv>$arr</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>array_push</span><span class=p>(</span><span class=nv>$arr</span><span class=p>,</span> <span class=nv>$val</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nv>$arr</span><span class=p>[]</span> <span class=o>=</span> <span class=nv>$val</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>array_pop</span><span class=p>(</span><span class=nv>$arr</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 取得矩陣部分元素
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>array_slice</span><span class=p>(</span><span class=nv>$arr</span><span class=p>,</span> <span class=nv>$offset</span><span class=p>,</span> <span class=nv>$length</span><span class=p>,</span> <span class=nv>$seperate_key</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 矩陣index：插入元素、去除元素、取代元素
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>array_splice</span><span class=p>(</span><span class=nv>$arr</span><span class=p>,</span> <span class=nv>$index</span><span class=p>,</span> <span class=nv>$length</span><span class=p>,</span> <span class=nv>$val_arr</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>array_splice</span><span class=p>(</span><span class=nv>$arr</span><span class=p>,</span> <span class=nv>$index</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nv>$newvals</span><span class=p>);</span> <span class=c1>// 插入多個新元素
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>array_splice</span><span class=p>(</span><span class=nv>$arr</span><span class=p>,</span> <span class=nv>$index</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span> <span class=c1>// 去除1個元素
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>array_splice</span><span class=p>(</span><span class=nv>$arr</span><span class=p>,</span> <span class=nv>$index</span><span class=p>,</span> <span class=mi>1</span><span class=p>,</span> <span class=nv>$newval</span><span class=p>);</span> <span class=c1>// 取代1個元素
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 數字矩陣：總和、最大值、最小值、乘積
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>array_sum</span><span class=p>(</span><span class=nv>$array</span><span class=p>);</span> <span class=c1>// 總和，array裡面可以是字串
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>max</span><span class=p>(</span><span class=nv>$arr</span><span class=p>);</span> <span class=c1>// 最大
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>min</span><span class=p>(</span><span class=nv>$arr</span><span class=p>);</span> <span class=c1>// 最小
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>array_product</span><span class=p>(</span><span class=nv>$array</span><span class=p>);</span> <span class=c1>// 乘積，array裡面可以是字串
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// map, filter, reduce
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>array_map</span><span class=p>(</span><span class=nx>callback</span><span class=p>,</span> <span class=nv>$arr1</span><span class=p>,</span> <span class=nv>$arr2</span><span class=o>...</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>array_filter</span><span class=p>(</span><span class=nv>$arr</span><span class=p>,</span> <span class=nx>callback</span><span class=p>);</span> <span class=c1>// 回傳的key是會亂掉的
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>array_reduce</span><span class=p>(</span><span class=nv>$arr</span><span class=p>,</span> <span class=nx>callback</span><span class=p>,</span> <span class=nv>$init</span><span class=p>);</span> <span class=c1>// function($carry, $item){}
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 特定元素是否在矩陣內
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>in_array</span><span class=p>(</span><span class=nv>$findme</span><span class=p>,</span> <span class=nv>$array</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 取得特定元素在矩陣內的index
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>array_search</span><span class=p>(</span><span class=nv>$findme</span><span class=p>,</span> <span class=nv>$arr</span><span class=p>,</span> <span class=nv>$isStrict</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 元素排列：遞增排列、遞減排列、條件排列
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>sort</span><span class=p>(</span><span class=nv>$arr</span><span class=p>);</span> <span class=c1>// [1,2,3]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>rsort</span><span class=p>(</span><span class=nv>$arr</span><span class=p>);</span> <span class=c1>// [3,2,1]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>usort</span><span class=p>(</span><span class=nv>$arr</span><span class=p>,</span> <span class=nx>callback</span><span class=p>);</span> <span class=c1>// user條件排列
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 範圍矩陣
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>12</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>range</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span><span class=mi>100</span><span class=p>,</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>range</span><span class=p>(</span><span class=s2>&#34;a&#34;</span><span class=p>,</span><span class=s2>&#34;z&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=nx>rand</span><span class=p>(</span><span class=nv>$from</span><span class=p>,</span> <span class=nv>$to</span><span class=p>);</span> <span class=c1>// 隨機int(含頭尾)
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>// 取得所有 keys 或 values 的矩陣
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>array_keys</span><span class=p>(</span><span class=nv>$arr</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>array_values</span><span class=p>(</span><span class=nv>$arr</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>...</span><span class=nv>$arr</span> <span class=c1>// 展開矩陣
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>echo</span> <span class=nx>json_encode</span><span class=p>(</span><span class=nv>$arr</span><span class=p>);</span> <span class=c1>// 輸出成JSON格式
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=nx>array_unique</span><span class=p>(</span><span class=nv>$arr</span><span class=p>);</span> <span class=c1>// 去除相同元素
</span></span></span></code></pre></div><h3 id=44-others>4.4 Others<a hidden class=anchor aria-hidden=true href=#44-others>#</a></h3><div class=highlight><pre tabindex=0 class=chroma><code class=language-php data-lang=php><span class=line><span class=cl><span class=nx>gettype</span><span class=p>(</span><span class=nv>$var</span><span class=p>);</span> <span class=c1>// 取得變數類型
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>is_null</span><span class=p>(</span><span class=nv>$var</span><span class=p>);</span> <span class=c1>// null判斷
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>bindec</span><span class=p>(</span><span class=s2>&#34;101100&#34;</span><span class=p>);</span> <span class=c1>// binary to decimal
</span></span></span></code></pre></div><h2 id=references>references<a hidden class=anchor aria-hidden=true href=#references>#</a></h2><ul><li><a href=https://www.php.net/>https://www.php.net/</a></li><li><a href=https://www.w3schools.com/php/>https://www.w3schools.com/php/</a></li></ul></div><footer class=post-footer><ul class=post-tags><li><a href=https://hsuanblog.live/tags/php/>PHP</a></li></ul><nav class=paginav><a class=prev href=https://hsuanblog.live/posts/laravel-%E9%97%9C%E8%81%AF-model/><span class=title>« Prev</span><br><span>Laravel 關聯 Model</span>
</a><a class=next href=https://hsuanblog.live/posts/rails-polymorphic/><span class=title>Next »</span><br><span>Rails Polymorphic</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2024 <a href=https://hsuanblog.live/>Hsuan's Coding Blog</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>